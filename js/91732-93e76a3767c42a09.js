"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91732],{32827:(e,t,n)=>{n.d(t,{Ay:()=>ef});var o=n(31768),i=n(27252),r=n(58799),a=n(80180),l=n(95442);let s=(0,i.memo)(e=>{let{content:t,isEditMode:n,onTextChange:o,as:a="div",className:l="",style:s={},tagProps:c={}}=e,d=(0,i.useRef)(null);(0,i.useEffect)(()=>{d.current&&n&&(d.current.innerHTML=t)},[t,n]);let u=e=>{o(e)},g=(0,i.useMemo)(()=>({width:"100%",display:"block",outline:"none",border:"none",background:"transparent",margin:0,padding:0,lineHeight:"inherit",fontFamily:"inherit",fontSize:"inherit",fontWeight:"inherit",color:"inherit",textAlign:"inherit",letterSpacing:"inherit",wordBreak:"inherit",whiteSpace:"inherit",...s}),[s]),m=(0,i.useMemo)(()=>(0,r.cn)("w-full block outline-none editable-content","[&>*]:m-0 [&>*]:p-0 [&>p]:m-0 [&>h1]:m-0 [&>h2]:m-0 [&>h3]:m-0 [&>h4]:m-0 [&>h5]:m-0 [&>h6]:m-0 [&>div]:m-0 [&>span]:m-0",l),[l]),h=(0,i.useMemo)(()=>({ref:d,contentEditable:!0,suppressContentEditableWarning:!0,onInput:u,className:m,style:g,...c,dangerouslySetInnerHTML:{__html:t}}),[t,m,g,c]),p=(0,i.useMemo)(()=>({className:m,style:g,...c,dangerouslySetInnerHTML:{__html:t}}),[t,m,g,c]);return n?i.createElement(a,h):i.createElement(a,p)});s.displayName="EditableContent";var c=n(30903),d=n(81662),u=n(54794),g=n(39e3),m=n(48469),h=n(54764),p=n(13785),x=n(90439),f=n(54181),b=n(78304),v=n(3088);let w={star:c.A,zap:d.A,shield:u.A,sparkles:g.A,heart:m.A,award:h.A,check:p.A,arrowRight:x.A,users:f.A,globe:b.A,server:v.A},y=e=>w[e]||null,k=new Map,C=e=>JSON.stringify(e);var j=n(14372);function S(e){switch(e){case"center":return"text-center";case"right":return"text-right";case"justify":return"text-justify";default:return"text-left"}}function N(e){let t={};if(e.fontSize&&(t.fontSize="".concat(e.fontSize,"px")),e.fontWeight&&(t.fontWeight=e.fontWeight),e.lineHeight&&(t.lineHeight=e.lineHeight),e.letterSpacing&&(t.letterSpacing="".concat(e.letterSpacing,"px")),e.textTransform&&(t.textTransform=e.textTransform),e.fontStyle&&(t.fontStyle=e.fontStyle),e.textAlign&&(t.textAlign=e.textAlign),e.color&&"string"==typeof e.color&&!e.color.includes("-")&&(t.color=e.color),e.backgroundColor&&"string"==typeof e.backgroundColor&&!e.backgroundColor.includes("-")&&(t.backgroundColor=e.backgroundColor),void 0!==e.paddingTop&&(t.paddingTop="".concat(e.paddingTop,"px")),void 0!==e.paddingRight&&(t.paddingRight="".concat(e.paddingRight,"px")),void 0!==e.paddingBottom&&(t.paddingBottom="".concat(e.paddingBottom,"px")),void 0!==e.paddingLeft&&(t.paddingLeft="".concat(e.paddingLeft,"px")),void 0!==e.marginTop&&(t.marginTop="".concat(e.marginTop,"px")),void 0!==e.marginRight&&(t.marginRight="".concat(e.marginRight,"px")),void 0!==e.marginBottom&&(t.marginBottom="".concat(e.marginBottom,"px")),void 0!==e.marginLeft&&(t.marginLeft="".concat(e.marginLeft,"px")),e.borderWidth&&(t.borderWidth="".concat(e.borderWidth,"px"),t.borderStyle=e.borderStyle||"solid"),e.borderRadius&&(t.borderRadius="".concat(e.borderRadius,"px")),e.borderColor&&"string"==typeof e.borderColor&&!e.borderColor.includes("-")&&(t.borderColor=e.borderColor),void 0!==e.boxShadowX||void 0!==e.boxShadowY||void 0!==e.boxShadowBlur){let n=e.boxShadowX||0,o=e.boxShadowY||0,i=e.boxShadowBlur||0,r=e.boxShadowSpread||0,a=e.boxShadowColor||"rgba(0,0,0,0.1)",l=e.boxShadowInset?"inset ":"";t.boxShadow="".concat(l).concat(n,"px ").concat(o,"px ").concat(i,"px ").concat(r,"px ").concat("string"==typeof a?a:"rgba(0,0,0,0.1)")}if(e.width&&(t.width="number"==typeof e.width?"".concat(e.width,"px"):e.width),e.height&&(t.height="number"==typeof e.height?"".concat(e.height,"px"):e.height),e.minWidth&&(t.minWidth="number"==typeof e.minWidth?"".concat(e.minWidth,"px"):e.minWidth),e.maxWidth&&(t.maxWidth="number"==typeof e.maxWidth?"".concat(e.maxWidth,"px"):e.maxWidth),e.rotate||e.scaleX||e.scaleY||e.translateX||e.translateY){let n=[];e.rotate&&n.push("rotate(".concat(e.rotate,"deg)")),e.scaleX&&n.push("scaleX(".concat(e.scaleX,")")),e.scaleY&&n.push("scaleY(".concat(e.scaleY,")")),e.translateX&&n.push("translateX(".concat(e.translateX,"px)")),e.translateY&&n.push("translateY(".concat(e.translateY,"px)")),n.length>0&&(t.transform=n.join(" "))}return t}function M(e){var t;let n=[];return(e.hoverBackgroundColor||e.hoverColor||e.transitionProperty)&&n.push("transition-all duration-300"),!1===e.visibleDesktop&&n.push("hidden md:block"),!1===e.visibleTablet&&n.push("hidden sm:block lg:block"),!1===e.visibleMobile&&n.push("hidden sm:block"),(null==(t=e.cssClasses)?void 0:t.length)&&e.cssClasses.forEach(e=>{(null==e?void 0:e.trim())&&n.push(e.trim())}),n.join(" ")}let I=(0,i.memo)(e=>{let{element:t,onTextChange:n,isEditMode:a}=e,l=t.settings||{},c=l.level||"h2",d=S(l.textAlign||"left"),u=(0,i.useMemo)(()=>({...N(l),fontWeight:l.fontWeight||"bold"}),[l]),g=(0,i.useMemo)(()=>M(l),[l]);return(0,o.jsx)(c,{className:(0,r.cn)("w-full heading-element outline-none font-bold",d,g),style:u,"data-element-id":t.id,"data-element-type":"heading",children:(0,o.jsx)(s,{content:t.content||"Heading",onTextChange:n,isEditMode:a})})});I.displayName="HeadingElement";let R=(0,i.memo)(e=>{let{element:t,onTextChange:n,isEditMode:a}=e,l=t.settings||{},c=S(l.textAlign||"left"),d=(0,i.useMemo)(()=>N(l),[l]),u=(0,i.useMemo)(()=>M(l),[l]);return(0,o.jsx)("div",{className:(0,r.cn)("w-full text-element outline-none",c,u),style:d,"data-element-id":t.id,"data-element-type":"text",children:(0,o.jsx)(s,{content:t.content||"Text content",onTextChange:n,isEditMode:a})})});R.displayName="TextElement",(0,i.memo)(e=>{let{element:t,onTextChange:n,isEditMode:a}=e,l=t.settings||{},c=l.listType||"ul",d=S(l.textAlign||"left"),u=(0,i.useMemo)(()=>N(l),[l]),g=(0,i.useMemo)(()=>M(l),[l]);return(0,o.jsx)(c,{className:(0,r.cn)("w-full list-element outline-none pl-5","ul"===c?"list-disc":"list-decimal",d,g),style:u,"data-element-id":t.id,"data-element-type":"list",children:(0,o.jsx)(s,{content:t.content||"<li>List item 1</li><li>List item 2</li><li>List item 3</li>",onTextChange:n,isEditMode:a})})}).displayName="ListElement",(0,i.memo)(e=>{let{element:t,onTextChange:n,isEditMode:a}=e,l=(0,j.useTranslations)("dashboard"),c=t.settings||{},d=c.textAlign||"center",u=c.author||"Author",g=c.source||"Source",m=S(d),h=(0,i.useMemo)(()=>N(c),[c]),p=(0,i.useMemo)(()=>M(c),[c]);return(0,o.jsxs)("figure",{className:(0,r.cn)("w-full",m,p),style:h,children:[(0,o.jsx)("blockquote",{className:(0,r.cn)("w-full quote-element outline-none italic border-l-4 border-gray-300 pl-4",m),"data-element-id":t.id,"data-element-type":"quote",children:(0,o.jsx)(s,{content:t.content||"Quote",onTextChange:n,isEditMode:a})}),(0,o.jsxs)("figcaption",{className:(0,r.cn)("mt-2 text-sm text-gray-600",m),children:[l("â€”"),(0,o.jsx)("span",{className:"font-medium",children:u}),l("untitled")," ",(0,o.jsx)("cite",{className:"text-gray-500",children:g})]})]})}).displayName="QuoteElement";let E=(0,i.memo)(e=>{let{element:t,onTextChange:n,isEditMode:r}=e,a=(0,j.useTranslations)("dashboard"),l=t.settings||{},s=l.iconName||"star",c=l.size||24,d=(0,i.useMemo)(()=>y(s),[s]);return d?(0,o.jsx)("div",{className:"flex justify-center items-center py-2 w-full","data-element-id":t.id,"data-element-type":"icon",children:(0,o.jsx)(d,{className:"h-6 w-6",style:{width:"".concat(c,"px"),height:"".concat(c,"px")}})}):(0,o.jsx)("div",{className:"flex justify-center items-center py-2 w-full",children:(0,o.jsx)("span",{children:a("icon_not_found")})})});E.displayName="IconElement";let T=(0,i.memo)(e=>{let{element:t,onTextChange:n,isEditMode:i}=e,a=t.settings||{},l=a.href||a.url||"#",c=a.target||"_self",d=S(a.textAlign||"left");return(0,o.jsx)("a",{href:i?void 0:l,target:i?void 0:c,className:(0,r.cn)("w-full link-element outline-none underline cursor-pointer hover:opacity-80 transition-opacity",d),onClick:e=>{i&&(e.preventDefault(),e.stopPropagation())},"data-element-id":t.id,"data-element-type":"link",children:(0,o.jsx)(s,{content:t.content||"Link",onTextChange:n,isEditMode:i})})});T.displayName="LinkElement";let B=(0,i.memo)(e=>{let{iconName:t,className:n}=e,a=(0,i.useMemo)(()=>t?y(t):null,[t]);return a?(0,o.jsx)(a,{className:(0,r.cn)("w-4 h-4",n)}):null});B.displayName="IconComponent";let L=(0,i.memo)(e=>{let{element:t,onTextChange:n,isEditMode:a}=e,l=t.settings||{},c=(0,i.useId)().replace(/:/g,"-"),d="btn-".concat(t.id,"-").concat(c),{backgroundColor:u="#7c3aed",color:g="#ffffff",paddingTop:m=12,paddingRight:h=24,paddingBottom:p=12,paddingLeft:x=24,borderRadius:f=8,fontSize:b=16,fontWeight:v="600",boxShadow:w="none",iconPosition:y="none",iconName:k="arrowRight",borderWidth:C=0,borderColor:j="transparent",textTransform:S="none",width:N="auto",cssId:M}=l,I=(0,i.useMemo)(()=>{let e={backgroundColor:u,color:g,paddingTop:"".concat(m,"px"),paddingRight:"".concat(h,"px"),paddingBottom:"".concat(p,"px"),paddingLeft:"".concat(x,"px"),borderRadius:"".concat(f,"px"),fontSize:"".concat(b,"px"),fontWeight:v,boxShadow:"none"!==w?w:void 0,borderWidth:C>0?"".concat(C,"px"):void 0,borderStyle:C>0?"solid":void 0,borderColor:C>0?j:void 0,textTransform:S,width:"number"==typeof N?"".concat(N,"px"):N,transition:"all 0.2s ease-in-out",cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"8px",outline:"none",userSelect:"none"};if(l.lineHeight&&(e.lineHeight=l.lineHeight),l.letterSpacing&&(e.letterSpacing="".concat(l.letterSpacing,"px")),l.fontStyle&&(e.fontStyle=l.fontStyle),l.textAlign&&(e.textAlign=l.textAlign),void 0!==l.marginTop&&(e.marginTop="".concat(l.marginTop,"px")),void 0!==l.marginRight&&(e.marginRight="".concat(l.marginRight,"px")),void 0!==l.marginBottom&&(e.marginBottom="".concat(l.marginBottom,"px")),void 0!==l.marginLeft&&(e.marginLeft="".concat(l.marginLeft,"px")),l.minWidth&&(e.minWidth="number"==typeof l.minWidth?"".concat(l.minWidth,"px"):l.minWidth),l.maxWidth&&(e.maxWidth="number"==typeof l.maxWidth?"".concat(l.maxWidth,"px"):l.maxWidth),l.height&&(e.height="number"==typeof l.height?"".concat(l.height,"px"):l.height),l.minHeight&&(e.minHeight="number"==typeof l.minHeight?"".concat(l.minHeight,"px"):l.minHeight),l.maxHeight&&(e.maxHeight="number"==typeof l.maxHeight?"".concat(l.maxHeight,"px"):l.maxHeight),l.rotate||l.scaleX||l.scaleY||l.translateX||l.translateY||l.skewX||l.skewY){let t=[];l.rotate&&t.push("rotate(".concat(l.rotate,"deg)")),l.scaleX&&t.push("scaleX(".concat(l.scaleX,")")),l.scaleY&&t.push("scaleY(".concat(l.scaleY,")")),l.translateX&&t.push("translateX(".concat(l.translateX,"px)")),l.translateY&&t.push("translateY(".concat(l.translateY,"px)")),l.skewX&&t.push("skewX(".concat(l.skewX,"deg)")),l.skewY&&t.push("skewY(".concat(l.skewY,"deg)")),t.length>0&&(e.transform=t.join(" "))}return l.position&&"static"!==l.position&&(e.position=l.position,void 0!==l.top&&(e.top=l.top),void 0!==l.right&&(e.right=l.right),void 0!==l.bottom&&(e.bottom=l.bottom),void 0!==l.left&&(e.left=l.left),void 0!==l.zIndex&&(e.zIndex=l.zIndex)),l.transitionProperty&&(e.transitionProperty="custom"===l.transitionProperty&&l.transitionCustomProperty||l.transitionProperty,l.transitionDuration&&(e.transitionDuration="".concat(l.transitionDuration,"s")),l.transitionTimingFunction&&(e.transitionTimingFunction=l.transitionTimingFunction),l.transitionDelay&&(e.transitionDelay="".concat(l.transitionDelay,"s"))),l.enableAnimation&&l.animationType&&(e.animationName=l.animationType,e.animationDuration="".concat(l.animationDuration||1,"s"),e.animationDelay="".concat(l.animationDelay||0,"s"),e.animationTimingFunction=l.animationEasing||"ease",e.animationIterationCount=l.animationIterationCount||"1",e.animationDirection=l.animationDirection||"normal",e.animationFillMode=l.animationFillMode||"none"),e},[u,g,m,h,p,x,f,b,v,w,C,j,S,N,l]),R=(0,i.useCallback)(e=>{a?(e.preventDefault(),e.stopPropagation()):l.link&&("_blank"===(l.target||"_self")?window.open(l.link,"_blank"):window.location.href=l.link)},[a,l.link,l.target]),E=(0,i.useMemo)(()=>{let e="left"===y&&k,i="right"===y&&k;return(0,o.jsxs)(o.Fragment,{children:[e&&(0,o.jsx)(B,{iconName:k,className:"mr-1"}),(0,o.jsx)(s,{content:t.content||"Button",onTextChange:n,isEditMode:a}),i&&(0,o.jsx)(B,{iconName:k,className:"ml-1"})]})},[y,k,t.content,n,a]),T=(0,i.useMemo)(()=>{var e;let t=[];return!1===l.visibleDesktop&&t.push("hidden md:block"),!1===l.visibleTablet&&t.push("hidden sm:block lg:block"),!1===l.visibleMobile&&t.push("hidden sm:block"),(null==(e=l.cssClasses)?void 0:e.length)&&l.cssClasses.forEach(e=>{(null==e?void 0:e.trim())&&t.push(e.trim())}),l.hoverEffect&&t.push("hover-".concat(l.hoverEffect)),t.join(" ")},[l]),L=(0,i.useMemo)(()=>({id:M||d,className:(0,r.cn)("button-element","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",T),style:I,onClick:R,"data-element-id":t.id,"data-element-type":"button",...l.htmlAttributes?Object.fromEntries(l.htmlAttributes.map(e=>[e.name,e.value])):{}}),[M,d,I,R,t.id,T,l.htmlAttributes]);return a?(0,o.jsx)("div",{...L,role:"button",tabIndex:-1,children:E}):(0,o.jsx)("button",{...L,children:E})});L.displayName="ButtonElement";let A=(0,i.memo)(e=>{let{element:t}=e,n=t.settings||{},{objectFit:a="cover",objectPosition:l="center",aspectRatio:s=1.5,responsive:c=!0,width:d,height:u}=n,g=(0,i.useMemo)(()=>({aspectRatio:s,width:d||"100%",height:u||"auto"}),[s,d,u]),m=(0,i.useMemo)(()=>({objectFit:a,objectPosition:l,borderRadius:n.borderRadius?"".concat(n.borderRadius,"px"):void 0}),[a,l,n.borderRadius]);return(0,o.jsx)("div",{className:"relative bg-transparent flex items-center justify-center overflow-hidden",style:g,children:n.src?(0,o.jsx)("img",{src:n.src||"/placeholder.svg",alt:n.alt||"Image",className:(0,r.cn)("max-w-full max-h-full absolute inset-0",c&&"w-full h-full"),style:m}):(0,o.jsx)("div",{className:"text-muted-foreground",children:"Image Placeholder"})})});A.displayName="ImageElementComponent";(0,i.memo)(e=>{let{element:t}=e,{galleryType:n="masonry",columns:r=3,gap:a=16,aspectRatio:l=1,borderRadius:s=8,enableLightbox:c=!0,images:d=[],responsive:u=!0}=t.settings||{};(0,i.useRef)(null);let[g,m]=(0,i.useState)(0),[h,p]=(0,i.useState)(!1);return(0,i.useMemo)(()=>({gap:"".concat(a,"px")}),[a]),(0,i.useMemo)(()=>({aspectRatio:l.toString(),borderRadius:"".concat(s,"px")}),[l,s]),(0,i.useCallback)(e=>{c&&(m(e),p(!0))},[c]),(0,i.useCallback)(()=>{p(!1)},[]),(0,i.useCallback)(()=>{m(e=>0===e?d.length-1:e-1)},[d.length]),(0,i.useCallback)(()=>{m(e=>e===d.length-1?0:e+1)},[d.length]),(0,o.jsx)("div",{className:"w-full"})}).displayName="GalleryElementComponent";let P=(0,i.memo)(e=>{var t;let{element:n}=e,a=n.settings||{},l=a.columns||2,s=null!=(t=a.gap)?t:16,c=a.distribution||"equal",d=(0,i.useMemo)(()=>"equal"===c?Array(l).fill("".concat(100/l,"%")):Array(l).fill("auto"),[l,c]),u=(0,i.useMemo)(()=>({gap:"".concat(s,"px")}),[s]),g=(0,i.useMemo)(()=>(e,t)=>({width:"equal"===c?"calc(".concat(e," - ").concat(s*(l-1)/l,"px)"):e}),[c,s,l]);return(0,o.jsx)("div",{className:(0,r.cn)("w-full flex flex-wrap",0===s?"":"gap-4"),style:u,"data-element-id":n.id,"data-element-type":"columns",children:d.map((e,t)=>(0,o.jsx)("div",{className:"bg-gray-50 rounded p-4 flex items-center justify-center min-h-[100px]",style:g(e,t),children:(0,o.jsxs)("div",{className:"text-gray-400 text-sm",children:["Column ",t+1]})},t))})});P.displayName="ColumnsElement";let z=(0,i.memo)(e=>{let{element:t}=e,{borderRadius:n=8,padding:r=24}=t.settings||{},a=(0,i.useMemo)(()=>({backgroundColor:"transparent",borderRadius:"".concat(n,"px"),padding:"".concat(r,"px")}),[n,r]);return(0,o.jsx)("div",{className:"w-full",style:a,"data-element-id":t.id,"data-element-type":"container",children:(0,o.jsx)("div",{className:"text-gray-500 text-center py-4",children:"Container content goes here"})})});z.displayName="ContainerElement";let D=(0,i.memo)(e=>{let{element:t}=e,n=(t.settings||{}).height||50,r=(0,i.useMemo)(()=>({height:"".concat(n,"px")}),[n]);return(0,o.jsx)("div",{style:r,className:"w-full","data-element-id":t.id,"data-element-type":"spacer"})});D.displayName="SpacerElement";let W=(0,i.memo)(e=>{let{element:t}=e,{color:n="gray",thickness:r=1,style:a="solid"}=t.settings||{},l=(0,i.useMemo)(()=>({borderBottom:"".concat(r,"px ").concat(a," ").concat(n)}),[r,a,n]);return(0,o.jsx)("div",{className:"w-full",style:l,"data-element-id":t.id,"data-element-type":"divider"})});W.displayName="DividerElement";var H=n(74707),O=n(51245),F=n(93408),U=n(38990),Y=n(1009);let _=(0,i.memo)(e=>{let{element:t}=e,{title:n="Card Title",description:a="This is a card description that can include text content.",imageSrc:l="/placeholder.svg?height=200&width=400",buttonText:s="Learn More",backgroundColor:c="#ffffff",borderRadius:d=8,shadow:u="md"}=t.settings||{},g=(0,i.useMemo)(()=>({sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg",xl:"shadow-xl"}),[]),m=(0,i.useMemo)(()=>({backgroundColor:String(c),borderRadius:"".concat(d,"px")}),[c,d]),h=g[u]||"shadow-md";return(0,o.jsxs)("div",{className:(0,r.cn)("overflow-hidden border border-gray-200",h),style:m,"data-element-id":t.id,"data-element-type":"card",children:[(0,o.jsx)("div",{className:"aspect-video bg-gray-100 relative",children:(0,o.jsx)("img",{src:l||"/placeholder.svg",alt:n,className:"w-full h-full object-cover",loading:"lazy"})}),(0,o.jsxs)("div",{className:"p-5",children:[(0,o.jsx)("h3",{className:"text-xl font-semibold mb-2",children:n}),(0,o.jsx)("p",{className:"text-gray-600 mb-4",children:a}),(0,o.jsx)("button",{className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors",children:s})]})]})});_.displayName="CardElement";let X=(0,i.memo)(e=>{let{element:t}=e,n=(0,j.useTranslations)("dashboard"),{planName:a="Basic Plan",price:l="$19",period:s="monthly",features:c=["Feature one","Feature two","Feature three"],buttonText:d="Get Started",highlighted:u=!1}=t.settings||{},g=(0,i.useMemo)(()=>(0,r.cn)("border rounded-lg overflow-hidden",u?"border-purple-500 ring-1 ring-purple-500":"border-gray-200"),[u]),m=(0,i.useMemo)(()=>(0,r.cn)("w-full py-2 rounded font-medium transition-colors",u?"bg-purple-600 text-white hover:bg-purple-700":"bg-gray-100 text-gray-800 hover:bg-gray-200"),[u]);return(0,o.jsxs)("div",{className:g,"data-element-id":t.id,"data-element-type":"pricing",children:[u&&(0,o.jsx)("div",{className:"bg-purple-500 text-white text-center py-1 text-sm font-medium",children:n("Popular")}),(0,o.jsxs)("div",{className:"p-6",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold mb-2",children:a}),(0,o.jsxs)("div",{className:"flex items-baseline mb-4",children:[(0,o.jsx)("span",{className:"text-3xl font-bold",children:l}),(0,o.jsxs)("span",{className:"text-gray-500 ml-1",children:[n("_"),s]})]}),(0,o.jsx)("ul",{className:"space-y-3 mb-6",children:c.map((e,t)=>(0,o.jsxs)("li",{className:"flex items-center",children:[(0,o.jsx)(p.A,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0"}),(0,o.jsx)("span",{className:"text-gray-600",children:e})]},t))}),(0,o.jsx)("button",{className:m,children:d})]})]})});X.displayName="PricingElement";let q=(0,i.memo)(e=>{let{element:t}=e,{heading:n="Ready to get started?",subheading:a="Join thousands of satisfied customers today.",buttonText:l="Sign Up Now",buttonLink:s="#",layout:c="centered"}=t.settings||{},d=(0,i.useMemo)(()=>(0,r.cn)("text-white rounded-lg overflow-hidden","centered"===c?"text-center p-8":"flex items-center p-8"),[c]);return(0,o.jsx)("div",{className:d,"data-element-id":t.id,"data-element-type":"cta",children:"centered"===c?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h2",{className:"text-2xl md:text-3xl font-bold mb-3",children:n}),(0,o.jsx)("p",{className:"text-purple-100 mb-6 max-w-2xl mx-auto",children:a}),(0,o.jsx)("button",{className:"px-6 py-3 bg-white text-purple-600 font-medium rounded-md hover:bg-gray-100 transition-colors",children:l})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("h2",{className:"text-2xl md:text-3xl font-bold mb-2",children:n}),(0,o.jsx)("p",{className:"text-purple-100",children:a})]}),(0,o.jsx)("div",{className:"ml-6",children:(0,o.jsx)("button",{className:"px-6 py-3 bg-white text-purple-600 font-medium rounded-md hover:bg-gray-100 transition-colors whitespace-nowrap",children:l})})]})})});q.displayName="CtaElement";let Z=(0,i.memo)(e=>{let{element:t}=e,n=t.settings||{},a=n.type||"info",l=n.title||"Information",s=n.message||"This is an informational notification.",c=!1!==n.dismissible,d=(0,i.useMemo)(()=>({info:{bg:"bg-blue-50",border:"border-blue-200",icon:(0,o.jsx)(H.A,{className:"h-5 w-5 text-blue-500"}),title:"text-blue-800",message:"text-blue-700"},success:{bg:"bg-green-50",border:"border-green-200",icon:(0,o.jsx)(O.A,{className:"h-5 w-5 text-green-500"}),title:"text-green-800",message:"text-green-700"},warning:{bg:"bg-yellow-50",border:"border-yellow-200",icon:(0,o.jsx)(F.A,{className:"h-5 w-5 text-yellow-500"}),title:"text-yellow-800",message:"text-yellow-700"},error:{bg:"bg-red-50",border:"border-red-200",icon:(0,o.jsx)(U.A,{className:"h-5 w-5 text-red-500"}),title:"text-red-800",message:"text-red-700"}}),[]),u=d[a]||d.info;return(0,o.jsx)("div",{className:(0,r.cn)("border rounded-lg p-4",u.bg,u.border),"data-element-id":t.id,"data-element-type":"notification",children:(0,o.jsxs)("div",{className:"flex items-start",children:[(0,o.jsx)("div",{className:"flex-shrink-0 mr-3",children:u.icon}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("h4",{className:(0,r.cn)("font-medium mb-1",u.title),children:l}),(0,o.jsx)("p",{className:(0,r.cn)("text-sm",u.message),children:s})]}),c&&(0,o.jsx)("button",{className:"flex-shrink-0 ml-3 opacity-70 hover:opacity-100 transition-opacity",children:(0,o.jsx)(Y.A,{className:"h-4 w-4"})})]})})});Z.displayName="NotificationElement";let G=(0,i.memo)(e=>{let{element:t}=e,{title:n="Feature Title",description:a="Feature description goes here to explain the benefits.",icon:l="star",layout:s="vertical"}=t.settings||{},m=(0,i.useMemo)(()=>({star:c.A,zap:d.A,shield:u.A,sparkles:g.A}),[])[l]||c.A,h=(0,i.useMemo)(()=>(0,r.cn)("p-6 text-center","horizontal"===s?"flex items-center text-left":"block"),[s]);return(0,o.jsxs)("div",{className:h,"data-element-id":t.id,"data-element-type":"feature",children:[(0,o.jsx)("div",{className:(0,r.cn)("mb-4","horizontal"===s?"mr-4 mb-0":""),children:(0,o.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-purple-100 rounded-lg",children:(0,o.jsx)(m,{className:"h-6 w-6 text-purple-600"})})}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold mb-2",children:n}),(0,o.jsx)("p",{className:"text-gray-600",children:a})]})]})});G.displayName="FeatureElement";var $=n(4788),J=n(56509);let V=(0,i.memo)(e=>{let{element:t}=e,n=t.settings||{},a=n.displayType||"card",l=n.testimonials||[{quote:n.quote||"This product has completely transformed how we work. Highly recommended!",author:n.author||"Jane Smith",role:n.role||"CEO, Company Inc.",avatarSrc:n.avatarSrc||"/placeholder.svg?height=50&width=50",rating:n.rating||5}],[s,d]=(0,i.useState)(0),u=(0,i.useRef)(null),g=(0,i.useCallback)(e=>d(e),[]),m=(0,i.useCallback)(()=>g((s-1+l.length)%l.length),[s,l.length,g]),h=(0,i.useCallback)(()=>g((s+1)%l.length),[s,l.length,g]),p=(0,i.useCallback)((e,t)=>(0,o.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[e.rating>0&&(0,o.jsx)("div",{className:"flex mb-4",children:[void 0,void 0,void 0,void 0,void 0].map((t,n)=>(0,o.jsx)(c.A,{className:(0,r.cn)("h-5 w-5",n<e.rating?"text-yellow-400 fill-yellow-400":"text-gray-300")},n))}),(0,o.jsxs)("blockquote",{className:"text-gray-700 mb-4 italic",children:['"',e.quote,'"']}),(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("div",{className:"h-10 w-10 rounded-full overflow-hidden mr-3 bg-gray-100",children:(0,o.jsx)("img",{src:e.avatarSrc||"/placeholder.svg",alt:e.author,className:"h-full w-full object-cover",loading:"lazy"})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"font-medium",children:e.author}),(0,o.jsx)("div",{className:"text-sm text-gray-500",children:e.role})]})]})]},t),[]),x=(0,i.useMemo)(()=>"grid gap-4 md:grid-cols-2 lg:grid-cols-3",[]),f=(0,i.useMemo)(()=>"translateX(-".concat(100*s,"%)"),[s]);return((0,i.useEffect)(()=>{if("slider"===a&&l.length>1)return u.current=setInterval(h,5e3),()=>{u.current&&clearInterval(u.current)}},[a,l.length,h]),"card"===a)?(0,o.jsx)("div",{className:"w-full","data-element-id":t.id,"data-element-type":"testimonial",children:1===l.length?p(l[0],0):(0,o.jsx)("div",{className:x,children:l.map((e,t)=>p(e,t))})}):(0,o.jsxs)("div",{className:"w-full relative","data-element-id":t.id,"data-element-type":"testimonial",children:[(0,o.jsx)("div",{className:"overflow-hidden",children:(0,o.jsx)("div",{className:"flex transition-transform duration-300 ease-in-out",style:{transform:f},children:l.map((e,t)=>(0,o.jsx)("div",{className:"w-full flex-shrink-0 px-4",children:p(e,t)},t))})}),l.length>1&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{onClick:m,className:"absolute left-0 top-1/2 -translate-y-1/2 bg-white/80 rounded-full p-2 shadow-md hover:bg-white transition-colors","aria-label":"Previous testimonial",children:(0,o.jsx)($.A,{className:"h-5 w-5"})}),(0,o.jsx)("button",{onClick:h,className:"absolute right-0 top-1/2 -translate-y-1/2 bg-white/80 rounded-full p-2 shadow-md hover:bg-white transition-colors","aria-label":"Next testimonial",children:(0,o.jsx)(J.A,{className:"h-5 w-5"})}),(0,o.jsx)("div",{className:"flex justify-center mt-4 gap-2",children:l.map((e,t)=>(0,o.jsx)("button",{onClick:()=>g(t),className:(0,r.cn)("w-2 h-2 rounded-full transition-colors",t===s?"bg-purple-600":"bg-gray-300"),"aria-label":"Go to testimonial ".concat(t+1)},t))})]})]})});V.displayName="TestimonialElement";let Q=(0,i.memo)(e=>{let{element:t}=e,n=(0,i.useMemo)(()=>[{label:"Users",value:"10K+",icon:"users"},{label:"Countries",value:"30+",icon:"globe"},{label:"Servers",value:"100+",icon:"server"}],[]),a=t.settings||{},l=a.stats||n,s=a.layout||"row",c=a.columns||3,d=(0,i.useCallback)(e=>{let t=y(e);return t?(0,o.jsx)(t,{className:"h-6 w-6 text-purple-500"}):(0,o.jsx)(f.A,{className:"h-6 w-6 text-purple-500"})},[]),u=(0,i.useMemo)(()=>(0,r.cn)("w-full","row"===s?"flex flex-wrap justify-around":"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-".concat(Math.min(c,4)," gap-4")),[s,c]),g=(0,i.useMemo)(()=>"row"===s?"flex-1 min-w-[120px]":"border rounded-lg",[s]);return(0,o.jsx)("div",{className:u,"data-element-id":t.id,"data-element-type":"stats",children:l.map((e,t)=>(0,o.jsxs)("div",{className:(0,r.cn)("flex flex-col items-center p-4 text-center",g),children:[(0,o.jsx)("div",{className:"mb-2",children:d(e.icon)}),(0,o.jsx)("div",{className:"text-2xl font-bold",children:e.value}),(0,o.jsx)("div",{className:"text-sm text-gray-500",children:e.label})]},t))})});Q.displayName="StatsElement";var K=n(68583);let ee=(0,i.memo)(e=>{let{element:t}=e,n=t.settings||{},{theme:a}=(0,K.D)(),[l,s]=(0,i.useState)(!1),c=(0,i.useMemo)(()=>({col1:[{light:"/placeholder.svg?height=200&width=300",dark:"/placeholder.svg?height=200&width=300"},{light:"/placeholder.svg?height=200&width=300",dark:"/placeholder.svg?height=200&width=300"},{light:"/placeholder.svg?height=200&width=300",dark:"/placeholder.svg?height=200&width=300"},{light:"/placeholder.svg?height=200&width=300",dark:"/placeholder.svg?height=200&width=300"}],col2:[{light:"/placeholder.svg?height=200&width=300",dark:"/placeholder.svg?height=200&width=300"},{light:"/placeholder.svg?height=200&width=300",dark:"/placeholder.svg?height=200&width=300"},{light:"/placeholder.svg?height=200&width=300",dark:"/placeholder.svg?height=200&width=300"},{light:"/placeholder.svg?height=200&width=300",dark:"/placeholder.svg?height=200&width=300"}],col3:[{light:"/placeholder.svg?height=200&width=300",dark:"/placeholder.svg?height=200&width=300"},{light:"/placeholder.svg?height=200&width=300",dark:"/placeholder.svg?height=200&width=300"},{light:"/placeholder.svg?height=200&width=300",dark:"/placeholder.svg?height=200&width=300"},{light:"/placeholder.svg?height=200&width=300",dark:"/placeholder.svg?height=200&width=300"}]}),[]),d=(0,i.useMemo)(()=>({columns:n.columns||3,perspective:n.perspective||700,rotateX:n.rotateX||15,rotateY:n.rotateY||-9,rotateZ:n.rotateZ||32,scale:n.scale||{x:.9,y:.8,z:1},translateX:n.translateX||7,translateY:n.translateY||-2,translateZ:n.translateZ||0,gap:n.gap||12,imageColumns:n.imageColumns||c,animationDirections:n.animationDirections||{col1:"up",col2:"down",col3:"up"},animationSpeeds:n.animationSpeeds||{col1:"normal",col2:"normal",col3:"slow"}}),[n,c]),u=(0,i.useMemo)(()=>({perspective:"".concat(d.perspective,"px")}),[d.perspective]),g=(0,i.useMemo)(()=>({transform:"translate3d(".concat(d.translateX,"%, ").concat(d.translateY,"%, ").concat(d.translateZ,"px) scale3d(").concat(d.scale.x,", ").concat(d.scale.y,", ").concat(d.scale.z,") rotateX(").concat(d.rotateX,"deg) rotateY(").concat(d.rotateY,"deg) rotateZ(").concat(d.rotateZ,"deg)")}),[d]),m=(0,i.useCallback)(e=>{let t="col".concat(e+1),n=d.animationDirections[t]||"up",o=d.animationSpeeds[t]||"normal",i="";return"up"===n?i="animate-slide-up":"down"===n&&(i="animate-slide-down"),"slow"===o?i+="-slow":"fast"===o&&(i+="-fast"),i},[d.animationDirections,d.animationSpeeds]),h=(0,i.useMemo)(()=>(0,r.cn)("grid grid-cols-".concat(d.columns," gap-").concat(d.gap," w-full h-full overflow-hidden origin-[50%_0%]")),[d.columns,d.gap]),p=(0,i.memo)(e=>{let{image:t,colIndex:n,index:a,theme:l}=e,s=(0,i.useMemo)(()=>"w-full h-full object-cover shadow-lg rounded-lg border border-muted-200 dark:border-muted-800 hover:border-primary-500 dark:hover:border-primary-400 transition-all duration-300",[]);return(0,o.jsxs)("div",{className:"relative aspect-[4/3]",children:[(0,o.jsx)("img",{className:(0,r.cn)(s,"dark"===l?"hidden":"block"),src:t.light||"/placeholder.svg",alt:"Image ".concat(n,"-").concat(a+1),loading:"lazy"}),(0,o.jsx)("img",{className:(0,r.cn)(s,"dark"===l?"block":"hidden"),src:t.dark||"/placeholder.svg",alt:"Image ".concat(n,"-").concat(a+1),loading:"lazy"})]})});return(p.displayName="ImagePair",(0,i.useEffect)(()=>{s(!0)},[]),l)?(0,o.jsx)("div",{className:"w-full h-[20rem] sm:h-[30rem] lg:h-[35rem] overflow-hidden rounded-lg",style:u,"data-element-id":t.id,"data-element-type":"animated-image-grid",children:(0,o.jsx)("div",{className:h,style:g,children:Array.from({length:d.columns}).map((e,t)=>{let n="col".concat(t+1),i=d.imageColumns[n]||[];return(0,o.jsx)("div",{className:(0,r.cn)("grid gap-9 w-full h-full",m(t)),children:i.map((e,n)=>(0,o.jsx)(p,{image:e,colIndex:t,index:n,theme:a},n))},t)})})}):null});ee.displayName="AnimatedImageGridElement";var et=n(50938);let en=e=>{let{width:t=150,height:n=80,values:r=[],className:a=""}=e,l="0 0 ".concat(t+20," ").concat(n+20),[s,c]=(0,i.useState)("#6b7280");(0,i.useEffect)(()=>{if(r.length<2)return void c("#6b7280");let e=r[r.length-1],t=r[r.length-2];e>t?c("#14b8a6"):e<t&&c("#f43f5e")},[r]);let{pathData:d,cx:u,cy:g}=(()=>{if(0===r.length)return{pathData:"",cx:0,cy:0};let e=Math.max(...r),o=Math.min(...r),i=e-o,a=0===i?1:i,l=r.map((e,i)=>({x:i/(r.length-1)*(t-20)+10,y:n-(e-o)/a*(n-20)-10})),s=l.reduce((e,t,n,o)=>{if(0===n)return"M ".concat(t.x," ").concat(t.y);let i=o[n-1],r=(i.x+t.x)/2,a=i.y,l=(i.x+t.x)/2,s=t.y;return"".concat(e," C ").concat(r," ").concat(a,", ").concat(l," ").concat(s,", ").concat(t.x," ").concat(t.y)},""),c=l[l.length-1]||{x:0,y:0};return{pathData:s,cx:c.x,cy:c.y}})();return(0,o.jsx)("div",{className:"".concat(!r.length?"transparent":""," ").concat(a),children:(0,o.jsxs)("svg",{viewBox:l,xmlns:"http://www.w3.org/2000/svg",width:t+20,height:n+20,children:[(0,o.jsx)("path",{d:d,fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("circle",{cx:u,cy:g,r:"3",fill:s,stroke:"none"}),(0,o.jsx)("circle",{cx:u,cy:g,r:"3",className:"animate-ping opacity-75",style:{stroke:s}})]})})};var eo=n(82415),ei=n(67095),er=n.n(ei),ea=n(56881);let el=e=>{let{children:t,speed:n=50,showGradients:r=!0,direction:a="rtl"}=e,l=(0,i.useRef)(null),s=(0,i.useRef)(null),[c,d]=(0,i.useState)(!1),[u,g]=(0,i.useState)(null),[m,h]=(0,i.useState)(0);(0,i.useEffect)(()=>{let e=()=>{if(l.current&&s.current){l.current.offsetWidth;let e=s.current.scrollWidth/2,t=e/n;l.current.style.setProperty("--animation-duration","".concat(t,"s")),l.current.style.setProperty("--content-width","".concat(e,"px"))}};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[n,t]),(0,i.useEffect)(()=>{let e,t,n,o=i=>{var r,s;if(c)return;t||(t=i),n||(n=i);let d=i-n,g=Number(null==(r=l.current)?void 0:r.style.getPropertyValue("--content-width").replace("px",""))||0,m=g/(1e3*(Number(null==(s=l.current)?void 0:s.style.getPropertyValue("--animation-duration").replace("s",""))||0))*d*(u?2:1);"rtl"===a&&(m=-m),h(e=>{let t=e+m;return t<=-g?t+=g:t>0&&(t-=g),t}),n=i,e=requestAnimationFrame(o)};return e=requestAnimationFrame(o),()=>{cancelAnimationFrame(e)}},[c,u,a,n]);let p=e=>{g(e)},x=()=>{g(null)};return(0,o.jsxs)("div",{ref:l,className:"jsx-df85a623938c47c9 marquee-container relative overflow-hidden",children:[(0,o.jsx)(er(),{id:"df85a623938c47c9",children:".marquee-content.jsx-df85a623938c47c9{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.marquee-item.jsx-df85a623938c47c9{-webkit-transition:-webkit-filter.3s ease;-moz-transition:filter.3s ease;-o-transition:filter.3s ease;transition:-webkit-filter.3s ease;transition:filter.3s ease}.marquee-content.jsx-df85a623938c47c9:hover .marquee-item.jsx-df85a623938c47c9:not(:hover){-webkit-filter:blur(2px);filter:blur(2px)}"}),(0,o.jsxs)("div",{ref:s,style:{transform:"translateX(".concat(m,"px)")},onMouseEnter:()=>{d(!0)},onMouseLeave:()=>{d(!1)},className:"jsx-df85a623938c47c9 marquee-content",children:[i.Children.map(t,(e,t)=>(0,o.jsx)("div",{className:"jsx-df85a623938c47c9 marquee-item",children:e},t)),i.Children.map(t,(e,t)=>(0,o.jsx)("div",{className:"jsx-df85a623938c47c9 marquee-item",children:e},"dup-".concat(t)))]}),r&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{onMouseEnter:()=>p("left"),onMouseLeave:x,className:"jsx-df85a623938c47c9 absolute top-0 bottom-0 left-0 w-40 z-50 flex items-center justify-center bg-linear-to-r from-white to-transparent dark:from-black dark:to-transparent pointer-events-auto",children:(0,o.jsx)(ea.Icon,{className:"text-black dark:text-white transition-opacity duration-300 ".concat("left"===u?"opacity-100":"opacity-0"),icon:"akar-icons:chevron-left",width:"32",height:"32"})}),(0,o.jsx)("div",{onMouseEnter:()=>p("right"),onMouseLeave:x,className:"jsx-df85a623938c47c9 absolute top-0 bottom-0 right-0 w-40 z-50 flex items-center justify-center bg-linear-to-l from-white to-transparent dark:from-black dark:to-transparent pointer-events-auto",children:(0,o.jsx)(ea.Icon,{className:"text-black dark:text-white transition-opacity duration-300 ".concat("right"===u?"opacity-100":"opacity-0"),icon:"akar-icons:chevron-right",width:"32",height:"32"})})]})]})},es=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,n=[],o=e;for(let e=0;e<t;e++){let e=o*(1+(Math.random()-.5)*.02);n.push(e),o=e}return n},ec={"BTC/USDT":{last:65e3,change:2.5},"ETH/USDT":{last:3500,change:-1.2},"SOL/USDT":{last:150,change:5.3},"ADA/USDT":{last:.45,change:.8},"DOT/USDT":{last:7.2,change:-.5}},ed=(0,i.memo)(e=>{let{item:t,linkBaseUrl:n}=e,r=(0,j.useTranslations)("dashboard"),a=(0,i.useMemo)(()=>t.change>=0?"text-green-500":"text-red-500",[t.change]),l=(0,i.useMemo)(()=>t.change>=0?"+":"",[t.change]),s=(0,i.useMemo)(()=>t.price.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:6}),[t.price]),c=(0,i.useMemo)(()=>"".concat(l).concat(t.change.toFixed(2),"%"),[l,t.change]);return(0,o.jsx)("div",{className:"flex items-center space-x-4 min-w-max",children:(0,o.jsxs)(eo.N_,{href:"".concat(n,"/").concat(t.symbol.replace("/","")),className:"flex items-center space-x-3 hover:bg-gray-50 dark:hover:bg-zinc-800 p-2 rounded-lg transition-colors group",children:[(0,o.jsxs)("div",{className:"flex flex-col",children:[(0,o.jsx)("span",{className:"font-medium text-sm group-hover:text-primary",children:t.symbol}),(0,o.jsx)("span",{className:"text-xs text-gray-500",children:t.currency})]}),(0,o.jsx)("div",{className:"w-20 h-8",children:(0,o.jsx)(en,{values:t.history,width:80,height:32})}),(0,o.jsxs)("div",{className:"flex flex-col items-end min-w-[80px]",children:[(0,o.jsxs)("span",{className:"font-medium text-sm",children:[r("$"),s]}),(0,o.jsx)("span",{className:"text-xs ".concat(a),children:c})]})]})})});ed.displayName="MarketItemComponent";let eu=(0,i.memo)(e=>{let{element:t}=e,n=(0,j.useTranslations)("dashboard"),r=t.settings||{},a=(0,i.useMemo)(()=>({apiEndpoint:r.apiEndpoint||"/api/markets/ticker",wsEndpoint:r.wsEndpoint||"/api/markets/ticker/ws",maxItems:r.maxItems||10,autoScroll:!1!==r.autoScroll,scrollSpeed:r.scrollSpeed||50,showGradients:!1!==r.showGradients,scrollDirection:r.scrollDirection||"rtl",linkBaseUrl:r.linkBaseUrl||"/trade"}),[r]),{createConnection:l,subscribe:s,unsubscribe:c,addMessageHandler:d,removeMessageHandler:u}=(0,et.G)(),g=(0,eo.a8)(),m=(0,i.useMemo)(()=>{var e;return null!=(e=null==g?void 0:g.includes("/admin/builder"))&&e},[g]),[h,p]=(0,i.useState)(!1),[x,f]=(0,i.useState)(!1),[b,v]=(0,i.useState)([]),w=(0,i.useCallback)(e=>{let t="number"==typeof e?e:Number.parseFloat(e);return isNaN(t)?0:t},[]),y=(0,i.useCallback)((e,t)=>{let n=(null==t?void 0:t.last)!==void 0?w(t.last):e.price;return{...e,price:n,change:(null==t?void 0:t.change)!==void 0?w(t.change):e.change,history:[...e.history,n].slice(-15)}},[w]),k=(0,i.useCallback)(e=>{v(t=>{let n=new Map;return t.map(t=>{let n=e[t.symbol];return n?y(t,n):t}).forEach(e=>{let t=e.currency,o=n.get(t);(!o||e.price>o.price)&&n.set(t,e)}),Object.keys(e).filter(e=>!t.find(t=>t.symbol===e)).forEach(t=>{let o=t.split("/")[0],i={symbol:t,currency:o,price:w(e[t].last),change:w(e[t].change),history:es(w(e[t].last))},r=n.get(o);(!r||i.price>r.price)&&n.set(o,i)}),Array.from(n.values()).slice(0,a.maxItems)})},[a.maxItems,y,w]),C=(0,i.useMemo)(()=>{if(!h||0===b.length)return(0,o.jsx)("div",{className:"flex items-center justify-center py-4",children:(0,o.jsxs)("div",{className:"text-gray-500 text-sm",children:[n("loading_market_data"),"."]})});let e=b.map(e=>(0,o.jsx)(ed,{item:e,linkBaseUrl:a.linkBaseUrl},e.symbol));return a.autoScroll?(0,o.jsx)(el,{speed:a.scrollSpeed,direction:a.scrollDirection,showGradients:a.showGradients,children:e}):(0,o.jsx)("div",{className:"flex space-x-6 overflow-x-auto py-2 scrollbar-hide",children:e})},[h,b,a.linkBaseUrl,a.autoScroll,a.scrollSpeed,a.scrollDirection,a.showGradients]);return(0,i.useEffect)(()=>{p(!0)},[]),(0,i.useEffect)(()=>{let e=async()=>{try{k(ec),f(!0)}catch(e){console.error("Error fetching tickers:",e)}};return h&&e(),()=>{f(!1)}},[h,k]),(0,i.useEffect)(()=>{if(x&&!m)try{return l("tickersConnection",a.wsEndpoint,{onOpen:()=>{s("tickersConnection","tickers")},onError:e=>{console.log("WebSocket connection error handled gracefully")}}),()=>{c("tickersConnection","tickers")}}catch(e){console.log("Failed to create WebSocket connection, using mock data instead")}},[x,l,s,c,a.wsEndpoint,m]),(0,i.useEffect)(()=>{if(x&&!m){let e=e=>{(null==e?void 0:e.data)&&"object"==typeof e.data&&k(e.data)};return d("tickersConnection",e,e=>e.stream&&"tickers"===e.stream),()=>{u("tickersConnection",e)}}},[x,k,d,u,m]),(0,o.jsxs)("div",{className:"w-full bg-white dark:bg-zinc-900 border border-gray-200 dark:border-zinc-700 rounded-lg overflow-hidden","data-element-id":t.id,"data-element-type":"trending-markets",children:[(0,o.jsx)("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-zinc-700",children:(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n("trending_markets")})}),(0,o.jsx)("div",{className:"px-4 py-2",children:C})]})});eu.displayName="TrendingMarketsElement";let eg=e=>e.split("\n").map((t,n)=>_jsxs(React.Fragment,{children:[t,n<e.split("\n").length-1&&_jsx("br",{})]},n)),em=e=>"object"==typeof e&&null!==e&&"type"in e&&"gradient"===e.type,eh=e=>"object"==typeof e&&null!==e&&!("type"in e),ep=(e,t)=>{if(!e||!t||"object"!=typeof t)return{};let n={};if(t.fontSize&&(n.fontSize="".concat(t.fontSize,"px")),t.fontWeight&&(n.fontWeight=t.fontWeight),t.lineHeight&&(n.lineHeight=t.lineHeight),t.letterSpacing&&(n.letterSpacing="".concat(t.letterSpacing,"px")),t.textTransform&&(n.textTransform=t.textTransform),t.fontStyle&&(n.fontStyle=t.fontStyle),t.textAlign&&(n.textAlign=t.textAlign),t.backgroundColor&&"string"==typeof t.backgroundColor&&!t.backgroundColor.includes("-")&&(n.backgroundColor=t.backgroundColor),t.color&&"string"==typeof t.color&&!t.color.includes("-")&&(n.color=t.color),void 0!==t.paddingTop&&(n.paddingTop="".concat(t.paddingTop,"px")),void 0!==t.paddingRight&&(n.paddingRight="".concat(t.paddingRight,"px")),void 0!==t.paddingBottom&&(n.paddingBottom="".concat(t.paddingBottom,"px")),void 0!==t.paddingLeft&&(n.paddingLeft="".concat(t.paddingLeft,"px")),void 0!==t.marginTop&&(n.marginTop="".concat(t.marginTop,"px")),void 0!==t.marginRight&&(n.marginRight="".concat(t.marginRight,"px")),void 0!==t.marginBottom&&(n.marginBottom="".concat(t.marginBottom,"px")),void 0!==t.marginLeft&&(n.marginLeft="".concat(t.marginLeft,"px")),t.borderWidth&&(n.borderWidth="".concat(t.borderWidth,"px"),n.borderStyle=t.borderStyle||"solid"),t.borderRadius&&(n.borderRadius="".concat(t.borderRadius,"px")),t.borderColor&&"string"==typeof t.borderColor&&!t.borderColor.includes("-")&&(n.borderColor=t.borderColor),void 0!==t.boxShadowX||void 0!==t.boxShadowY||void 0!==t.boxShadowBlur){let e=t.boxShadowX||0,o=t.boxShadowY||0,i=t.boxShadowBlur||0,r=t.boxShadowSpread||0,a=t.boxShadowColor||"rgba(0,0,0,0.1)",l=t.boxShadowInset?"inset ":"";n.boxShadow="".concat(l).concat(e,"px ").concat(o,"px ").concat(i,"px ").concat(r,"px ").concat("string"==typeof a?a:"rgba(0,0,0,0.1)")}if(t.rotate||t.scaleX||t.scaleY||t.translateX||t.translateY||t.skewX||t.skewY){let e=[];t.rotate&&e.push("rotate(".concat(t.rotate,"deg)")),t.scaleX&&e.push("scaleX(".concat(t.scaleX,")")),t.scaleY&&e.push("scaleY(".concat(t.scaleY,")")),t.translateX&&e.push("translateX(".concat(t.translateX,"px)")),t.translateY&&e.push("translateY(".concat(t.translateY,"px)")),t.skewX&&e.push("skewX(".concat(t.skewX,"deg)")),t.skewY&&e.push("skewY(".concat(t.skewY,"deg)")),e.length>0&&(n.transform=e.join(" "))}if(t.blur||t.brightness||t.contrast||t.saturate||t.hueRotate){let e=[];t.blur&&e.push("blur(".concat(t.blur,"px)")),t.brightness&&e.push("brightness(".concat(t.brightness,"%)")),t.contrast&&e.push("contrast(".concat(t.contrast,"%)")),t.saturate&&e.push("saturate(".concat(t.saturate,"%)")),t.hueRotate&&e.push("hue-rotate(".concat(t.hueRotate,"deg)")),e.length>0&&(n.filter=e.join(" "))}return t.width&&(n.width="number"==typeof t.width?"".concat(t.width,"px"):t.width),t.height&&(n.height="number"==typeof t.height?"".concat(t.height,"px"):t.height),t.minWidth&&(n.minWidth="number"==typeof t.minWidth?"".concat(t.minWidth,"px"):t.minWidth),t.minHeight&&(n.minHeight="number"==typeof t.minHeight?"".concat(t.minHeight,"px"):t.minHeight),t.maxWidth&&(n.maxWidth="number"==typeof t.maxWidth?"".concat(t.maxWidth,"px"):t.maxWidth),t.maxHeight&&(n.maxHeight="number"==typeof t.maxHeight?"".concat(t.maxHeight,"px"):t.maxHeight),t.position&&"static"!==t.position&&(n.position=t.position,void 0!==t.top&&(n.top=t.top),void 0!==t.right&&(n.right=t.right),void 0!==t.bottom&&(n.bottom=t.bottom),void 0!==t.left&&(n.left=t.left),void 0!==t.zIndex&&(n.zIndex=t.zIndex)),t.transformOrigin&&(n.transformOrigin=t.transformOrigin),t.transitionProperty&&(n.transitionProperty="custom"===t.transitionProperty&&t.transitionCustomProperty||t.transitionProperty,t.transitionDuration&&(n.transitionDuration="".concat(t.transitionDuration,"s")),t.transitionTimingFunction&&(n.transitionTimingFunction=t.transitionTimingFunction),t.transitionDelay&&(n.transitionDelay="".concat(t.transitionDelay,"s"))),t.enableAnimation&&t.animationType&&(n.animationName=t.animationType,n.animationDuration="".concat(t.animationDuration||1,"s"),n.animationDelay="".concat(t.animationDelay||0,"s"),n.animationTimingFunction=t.animationEasing||"ease",n.animationIterationCount=t.animationIterationCount||"1",n.animationDirection=t.animationDirection||"normal",n.animationFillMode=t.animationFillMode||"none"),t.hideOnOverflow&&(n.overflow="hidden"),"image"===e.type&&(t.objectFit&&(n.objectFit=t.objectFit),t.objectPosition&&(n.objectPosition=t.objectPosition),t.aspectRatio&&(n.aspectRatio=t.aspectRatio.toString())),n},ex=(e,t,n,o)=>{var i,r,a,l,s,c,d,u,g;if(!e||!t||"object"!=typeof t)return[];let m=[];if(m.push("element-wrapper","relative"),t.backgroundColor&&(em(t.backgroundColor)?m.push(...o(t.backgroundColor.gradient)):eh(t.backgroundColor)?("light"===n&&(null==(r=t.backgroundColor.light)?void 0:r.includes("-"))&&m.push("bg-".concat(t.backgroundColor.light)),"dark"===n&&(null==(a=t.backgroundColor.dark)?void 0:a.includes("-"))&&m.push("dark:bg-".concat(t.backgroundColor.dark))):"string"==typeof t.backgroundColor&&t.backgroundColor.includes("-")&&m.push("bg-".concat(t.backgroundColor))),t.color&&(em(t.color)?(m.push("text-transparent bg-clip-text"),m.push(...o(t.color.gradient))):eh(t.color)?("light"===n&&(null==(l=t.color.light)?void 0:l.includes("-"))&&m.push("text-".concat(t.color.light)),"dark"===n&&(null==(s=t.color.dark)?void 0:s.includes("-"))&&m.push("dark:text-".concat(t.color.dark))):"string"==typeof t.color&&t.color.includes("-")&&m.push("text-".concat(t.color))),t.hoverBackgroundColor)if(em(t.hoverBackgroundColor)){let e=o(t.hoverBackgroundColor.gradient,"hover:");m.push(...e)}else eh(t.hoverBackgroundColor)?("light"===n&&(null==(c=t.hoverBackgroundColor.light)?void 0:c.includes("-"))&&m.push("hover:bg-".concat(t.hoverBackgroundColor.light)),"dark"===n&&(null==(d=t.hoverBackgroundColor.dark)?void 0:d.includes("-"))&&m.push("hover:dark:bg-".concat(t.hoverBackgroundColor.dark))):"string"==typeof t.hoverBackgroundColor&&t.hoverBackgroundColor.includes("-")&&m.push("hover:bg-".concat(t.hoverBackgroundColor));if(t.hoverColor)if(em(t.hoverColor)){m.push("hover:text-transparent hover:bg-clip-text");let e=o(t.hoverColor.gradient,"hover:");m.push(...e)}else eh(t.hoverColor)?("light"===n&&(null==(u=t.hoverColor.light)?void 0:u.includes("-"))&&m.push("hover:text-".concat(t.hoverColor.light)),"dark"===n&&(null==(g=t.hoverColor.dark)?void 0:g.includes("-"))&&m.push("hover:dark:text-".concat(t.hoverColor.dark))):"string"==typeof t.hoverColor&&t.hoverColor.includes("-")&&m.push("hover:text-".concat(t.hoverColor));return(t.hoverBackgroundColor||t.hoverColor||t.hoverBorderColor||t.transitionProperty)&&m.push("transition-all duration-300"),!1===t.visibleDesktop&&m.push("hidden","md:block"),!1===t.visibleTablet&&m.push("hidden","sm:block","lg:block"),!1===t.visibleMobile&&m.push("hidden","sm:block"),(null==(i=t.cssClasses)?void 0:i.length)&&t.cssClasses.forEach(e=>{(null==e?void 0:e.trim())&&m.push(e.trim())}),t.hoverEffect&&m.push("hover-".concat(t.hoverEffect)),m};function ef(e){let{element:t,isEditMode:n}=e,s=(0,j.useTranslations)("dashboard"),{theme:c}=(0,K.D)(),{updateElement:d}=(0,a.useBuilderStore)();if(!t||"object"!=typeof t)return console.warn("ElementRenderer: Invalid element provided:",t),(0,o.jsx)("div",{className:"p-2 text-center text-red-500",children:s("invalid_element")});if(!t.type)return console.warn("ElementRenderer: Element missing type:",t),(0,o.jsx)("div",{className:"p-2 text-center text-yellow-600",children:s("element_missing_type")});if(!t.id)return console.warn("ElementRenderer: Element missing id:",t),(0,o.jsx)("div",{className:"p-2 text-center text-yellow-600",children:s("element_missing_id")});let u=(0,i.useCallback)(e=>{let n=e.target.innerHTML;d(t.id,{...t,content:n})},[t,d]),g=(0,i.useMemo)(()=>{try{switch(t.type){case"heading":return(0,o.jsx)(I,{element:t,onTextChange:u,isEditMode:n});case"text":return(0,o.jsx)(R,{element:t,onTextChange:u,isEditMode:n});case"button":return(0,o.jsx)(L,{element:t,onTextChange:u,isEditMode:n});case"image":return(0,o.jsx)(A,{element:t});case"divider":return(0,o.jsx)(W,{element:t});case"spacer":return(0,o.jsx)(D,{element:t});case"icon":return(0,o.jsx)(E,{element:t,onTextChange:u,isEditMode:n});case"columns":return(0,o.jsx)(P,{element:t});case"container":return(0,o.jsx)(z,{element:t});case"card":return(0,o.jsx)(_,{element:t});case"pricing":return(0,o.jsx)(X,{element:t});case"testimonial":return(0,o.jsx)(V,{element:t});case"stats":return(0,o.jsx)(Q,{element:t});case"cta":return(0,o.jsx)(q,{element:t});case"notification":return(0,o.jsx)(Z,{element:t});case"feature":return(0,o.jsx)(G,{element:t});case"animatedImageGrid":return(0,o.jsx)(ee,{element:t});case"link":return(0,o.jsx)(T,{element:t,onTextChange:u,isEditMode:n});case"trendingMarkets":return(0,o.jsx)(eu,{element:t});default:return(0,o.jsxs)("div",{children:[s("unknown_element_type"),t.type]})}}catch(e){return console.error("ElementRenderer: Error rendering element:",e,t),(0,o.jsx)("div",{className:"p-2 text-center text-red-500",children:s("error_rendering_element")})}},[t,n,u]);try{let e=t.settings||{},i=ep(t,e),a=ex(t,e,c||"light",function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e)return[];let n="dark"===c&&e.dark?e.dark:"light"===c&&e.light?e.light:e,o=n.direction||"to-r",i=n.from||"blue-500",r=n.to||"purple-500";return["".concat(t,"bg-gradient-").concat(o),"".concat(t,"from-").concat(i),n.via?"".concat(t,"via-").concat(n.via):"","".concat(t,"to-").concat(r)].filter(Boolean)});if("button"===t.type)return g;let{style:s,classes:u,attributes:m}=function(e){var t,n;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e.settings||{},a=C(r);if(k.has(a)){let e=k.get(a);return{style:{...o,...e.style},classes:[...i,...e.classes],attributes:{...e.attributes}}}let l={},s={...o},c=[...i];if(r.cssId&&(l.id=r.cssId),(null==(t=r.cssClasses)?void 0:t.length)&&r.cssClasses.forEach(e=>{(null==e?void 0:e.trim())&&c.push(e.trim())}),(null==(n=r.htmlAttributes)?void 0:n.length)&&r.htmlAttributes.forEach(e=>{let{name:t,value:n}=e;(null==t?void 0:t.trim())&&(l[t.trim()]=n||"")}),r.transitionProperty&&(s.transitionProperty="custom"===r.transitionProperty&&r.transitionCustomProperty||r.transitionProperty,r.transitionDuration&&(s.transitionDuration="".concat(r.transitionDuration,"s")),r.transitionTimingFunction&&(s.transitionTimingFunction=r.transitionTimingFunction),r.transitionDelay&&(s.transitionDelay="".concat(r.transitionDelay,"s"))),r.hoverEffect){let e=r.hoverEffectIntensity||1;c.push("hover-".concat(r.hoverEffect)),s["--hover-intensity"]=e}r.enableAnimation&&r.animationType&&Object.assign(s,{animationName:r.animationType,animationDuration:"".concat(r.animationDuration||1,"s"),animationDelay:"".concat(r.animationDelay||0,"s"),animationTimingFunction:r.animationEasing||"ease",animationIterationCount:r.animationIterationCount||"1",animationDirection:r.animationDirection||"normal",animationFillMode:r.animationFillMode||"none"}),r.position&&"static"!==r.position&&(s.position=r.position,["top","right","bottom","left","zIndex"].forEach(e=>{let t=r[e];void 0!==t&&(s[e]=t)})),!1===r.visibleDesktop&&c.push("hidden","md:block"),!1===r.visibleTablet&&c.push("hidden","sm:block","lg:block"),!1===r.visibleMobile&&c.push("hidden","sm:block"),r.hideOnOverflow&&(s.overflow="hidden");let d={style:{...s},classes:c.filter(e=>!i.includes(e)),attributes:l};if(k.size>1e3){let e=k.keys().next().value;e&&k.delete(e)}return k.set(a,d),{style:s,classes:c,attributes:l}}(t,i,a),h={...i,...s},p=[...a,...u],x=(0,o.jsx)("div",{id:e.cssId,className:(0,r.cn)(...p),style:h,...m,children:g});return(0,o.jsx)(l.L8,{id:t.id,isSelected:!1,onSelect:()=>{},settings:t.settings||{},updateSettings:(e,n)=>{d(t.id,{...t,settings:{...t.settings,[e]:n}})},isEditMode:n,children:()=>x})}catch(e){return console.error("ElementRenderer: Error in final rendering:",e,t),(0,o.jsx)("div",{className:"p-2 text-center text-red-500",children:s("error_rendering_element_wrapper")})}}},38087:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(31768),i=n(27252),r=n(58799),a=n(56971);function l(e){let{position:t,color:n,onClick:l,isVisible:s,size:c="md",label:d,rounded:u="full"}=e,[g,m]=(0,i.useState)(!1),h=(()=>{switch(n){case"purple":default:return{bg:"bg-purple-600",hover:"hover:bg-purple-700",ring:"group-hover:ring-purple-300"};case"blue":return{bg:"bg-blue-500",hover:"hover:bg-blue-600",ring:"group-hover:ring-blue-300"};case"green":return{bg:"bg-green-500",hover:"hover:bg-green-600",ring:"group-hover:ring-green-300"};case"orange":return{bg:"bg-orange-500",hover:"hover:bg-orange-600",ring:"group-hover:ring-orange-300"};case"gray":case"zinc":return{bg:"bg-zinc-700",hover:"hover:bg-zinc-800",ring:"group-hover:ring-zinc-300"}}})(),p={top:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2",right:"absolute top-1/2 right-0 -translate-y-1/2 translate-x-1/2",bottom:"absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2",left:"absolute top-1/2 left-0 -translate-y-1/2 -translate-x-1/2",center:"relative"},x={xs:{button:"p-1",icon:"h-2.5 w-2.5",ring:"group-hover:ring-1"},sm:{button:"p-1.5",icon:"h-3 w-3",ring:"group-hover:ring-1"},md:{button:"p-2.5",icon:"h-4 w-4",ring:"group-hover:ring-2"},lg:{button:"p-3.5",icon:"h-5 w-5",ring:"group-hover:ring-2"}},f=x[c]||x.md;return(0,o.jsxs)("div",{className:(0,r.cn)("center"!==t?p[t]:p.center,"z-30 transition-all duration-300 group",s?"opacity-100":"opacity-0 pointer-events-none"),onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[d&&g&&(0,o.jsx)("div",{className:"absolute left-1/2 -translate-x-1/2 -top-8 text-xs bg-gray-800 text-white px-2 py-1 rounded whitespace-nowrap z-50 transition-opacity duration-200",children:d}),(0,o.jsx)("button",{className:(0,r.cn)(h.bg,h.hover,f.button,{none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",full:"rounded-full"}[u],"text-white shadow-md transition-all duration-300","ring-0 ring-offset-1",h.ring,f.ring,"transform hover:scale-110"),onClick:l,"aria-label":d||"Add",children:(0,o.jsx)(a.A,{className:f.icon})})]})}},42747:(e,t,n)=>{n.d(t,{GC:()=>a,HG:()=>r,Ks:()=>l,PF:()=>g,Rn:()=>m,TT:()=>c,Yv:()=>s,af:()=>u,ym:()=>i});var o=n(80180);function i(e,t,n){if(e.id===t.id||"section"===e.type&&t.sectionId===e.id||"row"===e.type&&t.rowId===e.id||"column"===e.type&&t.columnId===e.id)return!0;let i=new o.BuilderRegistry(n);if("row"===e.type){if(!i.getRow(e.id))return!1;if("column"===t.type){let n=i.getColumn(t.id);if(!n)return!1;if(n.row.id===e.id)return!0;if(n.parentColumnId){let t=i.getColumn(n.parentColumnId);if(t&&t.row.id===e.id)return!0}}}if("column"===e.type){let n=i.getColumn(e.id);if(!n)return!1;if("row"===t.type&&n.column.rows&&n.column.rows.some(e=>e.id===t.id))return!0}return!1}function r(e,t){let n=e.nestingLevel||1;return"row"===e.type&&"column"===t.type?n+1:"column"===e.type&&"row"===t.type?t.nestingLevel||1:n}function a(e){switch(e){case"section":return{border:"2px dashed #f97316",backgroundColor:"rgba(249, 115, 22, 0.1)",borderRadius:"4px",padding:"8px"};case"row":return{border:"2px dashed #3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",borderRadius:"4px",padding:"8px"};case"column":return{border:"2px dashed #22c55e",backgroundColor:"rgba(34, 197, 94, 0.1)",borderRadius:"4px",padding:"8px"};case"element":return{border:"2px dashed #a855f7",backgroundColor:"rgba(168, 85, 247, 0.1)",borderRadius:"4px",padding:"8px"};default:return{}}}function l(e,t,n){if(!e)return{};if(!t)return{border:"2px dashed #ef4444",backgroundColor:"rgba(239, 68, 68, 0.1)",borderRadius:"4px"};switch(n){case"section":return{border:"2px dashed #f97316",backgroundColor:"rgba(249, 115, 22, 0.1)",borderRadius:"4px"};case"row":return{border:"2px dashed #3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",borderRadius:"4px"};case"column":return{border:"2px dashed #22c55e",backgroundColor:"rgba(34, 197, 94, 0.1)",borderRadius:"4px"};default:return{border:"2px dashed #a855f7",backgroundColor:"rgba(168, 85, 247, 0.1)",borderRadius:"4px"}}}function s(e){switch(e){case"top":return"top-0 left-0 right-0 h-1 cursor-ns-resize";case"right":return"top-0 right-0 bottom-0 w-1 cursor-ew-resize";case"bottom":return"bottom-0 left-0 right-0 h-1 cursor-ns-resize";case"left":return"top-0 left-0 bottom-0 w-1 cursor-ew-resize";default:return""}}function c(e){switch(e){case"purple":default:return{outline:"outline-purple-500",bg:"bg-purple-600",hover:"hover:bg-purple-700",ring:"group-hover:ring-purple-300"};case"blue":return{outline:"outline-blue-500",bg:"bg-blue-500",hover:"hover:bg-blue-600",ring:"group-hover:ring-blue-300"};case"green":return{outline:"outline-green-500",bg:"bg-green-500",hover:"hover:bg-green-600",ring:"group-hover:ring-green-300"};case"orange":return{outline:"outline-orange-500",bg:"bg-orange-500",hover:"hover:bg-orange-600",ring:"group-hover:ring-orange-300"}}}function d(e){return["heading","text","quote","link"].includes(e)}function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=[];e.rotate&&n.push("rotate(".concat(e.rotate,"deg)")),e.scaleX&&n.push("scaleX(".concat(e.scaleX,")")),e.scaleY&&n.push("scaleY(".concat(e.scaleY,")")),e.translateX&&n.push("translateX(".concat(e.translateX,"px)")),e.translateY&&n.push("translateY(".concat(e.translateY,"px)")),e.skewX&&n.push("skewX(".concat(e.skewX,"deg)")),e.skewY&&n.push("skewY(".concat(e.skewY,"deg)"));let o=n.length?n.join(" "):"none",i=[];e.blur&&i.push("blur(".concat(e.blur,"px)")),void 0!==e.opacity&&i.push("opacity(".concat(e.opacity,")")),void 0!==e.brightness&&i.push("brightness(".concat(e.brightness,")")),void 0!==e.contrast&&i.push("contrast(".concat(e.contrast,")")),e.grayscale&&i.push("grayscale(".concat(e.grayscale,"%)"));let r=i.length?i.join(" "):"none",a="none";e.boxShadowColor&&(e.boxShadowX||e.boxShadowY||e.boxShadowBlur||e.boxShadowSpread)&&(a="".concat(e.boxShadowInset?"inset ":"").concat(e.boxShadowX||0,"px ").concat(e.boxShadowY||0,"px ").concat(e.boxShadowBlur||0,"px ").concat(e.boxShadowSpread||0,"px ").concat(e.boxShadowColor));let l="none";if(e.borderWidth&&e.borderStyle&&e.borderColor)if(!1===e.borderTop||!1===e.borderRight||!1===e.borderBottom||!1===e.borderLeft){l="none";let t=[];!1!==e.borderTop&&t.push("border-top: ".concat(e.borderWidth,"px ").concat(e.borderStyle," ").concat(e.borderColor,";")),!1!==e.borderRight&&t.push("border-right: ".concat(e.borderWidth,"px ").concat(e.borderStyle," ").concat(e.borderColor,";")),!1!==e.borderBottom&&t.push("border-bottom: ".concat(e.borderWidth,"px ").concat(e.borderStyle," ").concat(e.borderColor,";")),!1!==e.borderLeft&&t.push("border-left: ".concat(e.borderWidth,"px ").concat(e.borderStyle," ").concat(e.borderColor,";"))}else l="".concat(e.borderWidth,"px ").concat(e.borderStyle," ").concat(e.borderColor);let s="none";e.animationType&&"none"!==e.animationType&&(s="".concat(e.animationType," ").concat(e.animationDuration||.3,"s ").concat(e.animationEasing||"ease"," ").concat(e.animationDelay||0,"s ").concat(e.animationIterationCount||"1"));let c=(t&&d(t),e.width||"100%"),u=t&&d(t)?e.display||"block":e.display;return{width:c,height:e.height||"auto",minWidth:e.minWidth||void 0,maxWidth:e.maxWidth||void 0,minHeight:e.minHeight||void 0,maxHeight:e.maxHeight||void 0,paddingTop:"".concat(e.paddingTop||0,"px"),paddingRight:"".concat(e.paddingRight||0,"px"),paddingBottom:"".concat(e.paddingBottom||0,"px"),paddingLeft:"".concat(e.paddingLeft||0,"px"),marginTop:"".concat(e.marginTop||0,"px"),marginRight:"".concat(e.marginRight||0,"px"),marginBottom:"".concat(e.marginBottom||0,"px"),marginLeft:"".concat(e.marginLeft||0,"px"),backgroundColor:e.backgroundColor||"transparent",border:l,borderRadius:e.borderRadius?"".concat(e.borderRadius,"px"):void 0,boxShadow:a,transform:o,filter:r,textAlign:e.textAlign||"left",verticalAlign:e.verticalAlign||void 0,animation:"none"!==s?s:void 0,transition:"none"!==e.animationType?"all ".concat(e.animationDuration||.3,"s ").concat(e.animationEasing||"ease"):void 0,display:u}}function g(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n={};if(e.backgroundColor&&(n.backgroundColor=e.backgroundColor),"row"===t){if(n.display="flex",n.flexWrap="wrap",n.width="100%",e.maxWidth&&(n.maxWidth=e.maxWidth),e.verticalAlign)switch(e.verticalAlign){case"top":n.alignItems="flex-start";break;case"middle":n.alignItems="center";break;case"bottom":n.alignItems="flex-end"}}else"column"===t?(n.height="100%",n.width="100%",n.position="relative",e.border&&(n.border=e.border),e.borderRadius&&(n.borderRadius="".concat(e.borderRadius,"px"))):"section"===t&&e.backgroundImage&&(n.backgroundImage="url(".concat(e.backgroundImage,")"),n.backgroundSize="cover",n.backgroundPosition="center");return n}function m(e){switch(e){case"section":return"Add Section";case"row":return"Add Row";case"column":return"Add Element";default:return"Add"}}},50938:(e,t,n)=>{n.d(t,{G:()=>a});var o=n(21207);class i{connect(){if(!this.socket||this.socket.readyState!==WebSocket.OPEN&&this.socket.readyState!==WebSocket.CONNECTING)try{this.socket=new WebSocket(this.url),this.socket.onopen=e=>{this.reconnectAttempts=0,this.eventHandlers.open.forEach(t=>t(e))},this.socket.onclose=e=>{this.eventHandlers.close.forEach(t=>t(e)),this.attemptReconnect()},this.socket.onerror=e=>{this.eventHandlers.error.forEach(t=>t(e))},this.socket.onmessage=e=>{try{let t=JSON.parse(e.data);this.eventHandlers.message.forEach(e=>e(t))}catch(e){console.error("Failed to parse WebSocket message:",e)}}}catch(e){console.error("WebSocket connection error:",e),this.attemptReconnect()}}attemptReconnect(){this.reconnectAttempts<this.maxReconnectAttempts&&(this.reconnectAttempts++,setTimeout(()=>{this.connect()},this.reconnectTimeout*this.reconnectAttempts))}disconnect(){this.socket&&(this.socket.close(),this.socket=null)}isConnected(){return null!==this.socket&&this.socket.readyState===WebSocket.OPEN}send(e){this.isConnected()&&this.socket?this.socket.send("string"==typeof e?e:JSON.stringify(e)):console.warn("Cannot send message, WebSocket is not connected")}on(e,t){this.eventHandlers[e]?this.eventHandlers[e].push(t):this.eventHandlers[e]=[t]}off(e,t){this.eventHandlers[e]&&(this.eventHandlers[e]=this.eventHandlers[e].filter(e=>e!==t))}constructor(e){this.socket=null,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectTimeout=1e3,this.eventHandlers={open:[],close:[],error:[],message:[]},this.url=e}}let r=()=>({isConnected:!1,wsManager:null,subscriptions:[],subscriptionQueue:[],isTypeSubscribed:function(e,t){return this.subscriptions.some(n=>n.type===e&&JSON.stringify(n.payload)===JSON.stringify(t))}}),a=(0,o.v)()((e,t)=>({connections:{},messageHandlers:{},createConnection:async(n,o,a)=>{let l=t().connections[n];if(!o)return Promise.reject("Path is invalid");if(l&&l.isConnected){var s;return null==a||null==(s=a.onOpen)||s.call(a),Promise.resolve()}let c=new i(o);e(e=>({connections:{...e.connections,[n]:{isConnected:!1,wsManager:c,subscriptions:[],subscriptionQueue:[],isTypeSubscribed:r().isTypeSubscribed}}})),c.on("open",()=>{var i;console.log("WebSocket Connected to",o),e(e=>({connections:{...e.connections,[n]:{...e.connections[n],isConnected:!0}}})),null==a||null==(i=a.onOpen)||i.call(a),t().connections[n].subscriptionQueue.forEach(e=>{c.send({action:"SUBSCRIBE",payload:{type:e.type,...e.payload}})}),e(e=>({connections:{...e.connections,[n]:{...e.connections[n],subscriptionQueue:[]}}}))}),c.on("close",()=>{var t;console.log("WebSocket Disconnected from",o),e(e=>({connections:{...e.connections,[n]:{...e.connections[n],isConnected:!1}}})),null==a||null==(t=a.onClose)||t.call(a)}),c.on("error",e=>{var t;console.error("WebSocket error on",o,":",e),null==a||null==(t=a.onError)||t.call(a,e)}),c.on("message",e=>{var o;(t().messageHandlers[n]||[]).forEach(t=>{let{handler:n,filter:o}=t;o(e)&&n(e)}),null==a||null==(o=a.onMessage)||o.call(a,e)}),c.connect()},removeConnection:n=>{let o=t().connections[n];o&&o.isConnected&&o.wsManager&&(o.wsManager.disconnect(),e(e=>({connections:{...e.connections,[n]:{...e.connections[n],isConnected:!1,wsManager:null}}})))},send:(e,n)=>{let o=t().connections[e];o&&o.isConnected&&o.wsManager&&o.wsManager.send(n)},subscribe:(n,o,i)=>{let r=t().connections[n];if(r&&!r.isTypeSubscribed(o,i)){var a;let t={type:o,payload:i};e(e=>({connections:{...e.connections,[n]:{...e.connections[n],subscriptions:[...e.connections[n].subscriptions,t]}}})),(null==(a=r.wsManager)?void 0:a.isConnected())?r.wsManager.send({action:"SUBSCRIBE",payload:{type:o,...i}}):e(e=>({connections:{...e.connections,[n]:{...e.connections[n],subscriptionQueue:[...e.connections[n].subscriptionQueue,t]}}}))}},unsubscribe:(n,o,i)=>{var r;let a=t().connections[n];a&&(e(e=>({connections:{...e.connections,[n]:{...e.connections[n],subscriptions:e.connections[n].subscriptions.filter(e=>e.type!==o||JSON.stringify(e.payload)!==JSON.stringify(i))}}})),(null==(r=a.wsManager)?void 0:r.isConnected())&&a.wsManager.send({action:"UNSUBSCRIBE",payload:{type:o,...i}}))},addMessageHandler:function(t,n){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0;e(e=>({messageHandlers:{...e.messageHandlers,[t]:[...e.messageHandlers[t]||[],{handler:n,filter:o}]}}))},removeMessageHandler:(t,n)=>{e(e=>({messageHandlers:{...e.messageHandlers,[t]:(e.messageHandlers[t]||[]).filter(e=>e.handler!==n)}}))},isConnectionOpen:e=>{let n=t().connections[e];return(null==n?void 0:n.isConnected)||!1}}))},70549:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(31768),i=n(456),r=n(95365),a=n(72401),l=n(14372);function s(e){let{onMoveUp:t,onMoveDown:n,isFirst:s,isLast:c,color:d="purple"}=e,u=(0,l.useTranslations)("dashboard"),g=(()=>{switch(d){case"purple":default:return"text-white hover:bg-purple-700";case"blue":return"text-white hover:bg-blue-600";case"green":return"text-white hover:bg-green-600";case"orange":return"text-white hover:bg-orange-600"}})();return(0,o.jsx)(a.Bc,{children:(0,o.jsxs)("div",{className:"flex items-center",children:[!s&&(0,o.jsxs)(a.m_,{children:[(0,o.jsx)(a.k$,{asChild:!0,children:(0,o.jsx)("button",{onClick:e=>{e.stopPropagation(),t()},className:"p-1 ".concat(g),children:(0,o.jsx)(i.A,{className:"h-3.5 w-3.5"})})}),(0,o.jsx)(a.ZI,{children:u("move_up")})]}),!c&&(0,o.jsxs)(a.m_,{children:[(0,o.jsx)(a.k$,{asChild:!0,children:(0,o.jsx)("button",{onClick:e=>{e.stopPropagation(),n()},className:"p-1 ".concat(g),children:(0,o.jsx)(r.A,{className:"h-3.5 w-3.5"})})}),(0,o.jsx)(a.ZI,{children:u("move_down")})]})]})})}},72401:(e,t,n)=>{n.d(t,{Bc:()=>a,ZI:()=>c,k$:()=>s,m_:()=>l});var o=n(31768);n(27252);var i=n(89207),r=n(58799);function a(e){let{delayDuration:t=0,...n}=e;return(0,o.jsx)(i.Kq,{"data-slot":"tooltip-provider",delayDuration:t,...n})}function l(e){let{...t}=e;return(0,o.jsx)(a,{children:(0,o.jsx)(i.bL,{"data-slot":"tooltip",...t})})}function s(e){let{...t}=e;return(0,o.jsx)(i.l9,{"data-slot":"tooltip-trigger",...t})}function c(e){let{className:t,sideOffset:n=0,children:a,...l}=e;return(0,o.jsx)(i.ZL,{children:(0,o.jsxs)(i.UC,{"data-slot":"tooltip-content",sideOffset:n,className:(0,r.cn)("bg-zinc-50 dark:bg-zinc-900 text-zinc-900 dark:text-zinc-50 border border-zinc-200 dark:border-zinc-700 animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit rounded-md px-3 py-1.5 text-xs text-balance shadow-lg",t),...l,children:[a,(0,o.jsx)(i.i3,{className:"bg-zinc-50 dark:bg-zinc-900 fill-zinc-50 dark:fill-zinc-900 z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}},80180:(e,t,n)=>{n.r(t),n.d(t,{BuilderRegistry:()=>b,createEmptyRow:()=>u,generateId:()=>g,useBuilderStore:()=>s});var o=n(21207),i=n(15569),r=n(84281);function a(e,t){let n=[];return(0,r.jM)(e,e=>{Object.keys(t).forEach(n=>{e[n]=t[n]})},e=>{n=e}),n}function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"State change",o=a(e,t),i=a(t,e);return 0===o.length?null:{patches:o,inversePatches:i,action:n}}(0,r.YT)();let s=(0,o.v)()((0,i.lt)((e,t)=>({pageId:null,page:{id:"page-1",title:"Untitled Page",sections:[],elements:[]},history:[],future:[],historyIndex:-1,selectedElementId:null,selectedSectionId:null,selectedRowId:null,selectedColumnId:null,isSettingsPanelOpen:!1,isAddSectionModalOpen:!1,canUndo:!1,canRedo:!1,viewMode:"desktop",isPreviewMode:!1,isLayersOpen:!1,isSettingsOpen:!1,currentPageId:null,currentPageTitle:null,pageSnapshots:{},initializeBuilder:t=>{e({pageId:t||null,page:{id:t||"page-1",title:"Untitled Page",sections:[],elements:[]},history:[],future:[],historyIndex:-1,selectedElementId:null,selectedSectionId:null,selectedRowId:null,selectedColumnId:null,isSettingsPanelOpen:!0,canUndo:!1,canRedo:!1,viewMode:"desktop",isPreviewMode:!1,isLayersOpen:!1,isSettingsOpen:!1})},setPage:t=>{e({page:t})},addElement:n=>{let{page:o,history:i,future:a,selectedColumnId:s}=t(),c=function(e){return{...e,settings:{width:"100%",height:"auto",paddingTop:16,paddingRight:16,paddingBottom:16,paddingLeft:16,marginTop:0,marginRight:0,marginBottom:16,marginLeft:0,...e.settings}}}(n),d=(0,r.jM)(o,e=>{if(s){let t=new b(e.sections).getColumn(s);t&&t.column.elements.push(c)}else e.elements=[...e.elements||[],c]}),u=l(o,d,"Add element");e({page:d,history:u?[...i,u]:i,future:[],canUndo:i.length>0||!!u,canRedo:!1}),setTimeout(()=>{e({selectedElementId:n.id,selectedSectionId:null,selectedRowId:null,selectedColumnId:null,isSettingsPanelOpen:!0,isLayersOpen:!1,isSettingsOpen:!1})},10)},updateElement:(n,o)=>{let{page:i,history:a,future:s}=t(),c=(0,r.jM)(i,e=>{let t=function(e,t,n){let o=new b(e).getElement(t);if(!o)return e;let{column:i,row:r,section:a}=o;return h(e,a.id,e=>p(e,r.id,e=>x(e,i.id,e=>{var o;return o=()=>n,{...e,elements:e.elements.map(e=>e.id===t?o():e)}})))}(e.sections,n,o);e.sections=t}),d=l(i,c,"Update element");e({page:c,history:d?[...a,d]:a,future:[],canUndo:a.length>0||!!d,canRedo:!1})},duplicateElement:n=>{let{page:o,history:i,future:a}=t(),s=(0,r.jM)(o,e=>{let t,o=new b(e.sections).getElement(n);if(o){let{element:i,column:a,row:l,section:s,parentColumnId:c}=o;if(t={...i,id:g("element")},c)e.sections=h(e.sections,s.id,e=>(0,r.jM)(e,e=>{e.rows=e.rows.map(e=>(e.id===l.id&&(e.columns=e.columns.map(e=>(e.id===c&&e.rows&&(e.rows=e.rows.map(e=>{if(e.id===l.id){let o=e.elements.findIndex(e=>e.id===n);e.elements.splice(o+1,0,t)}return e})),e))),e))}));else{let o=m(e.sections,n);e.sections=o.sections,t=o.duplicatedElement}}else{let o=m(e.sections,n);if(e.sections=o.sections,!(t=o.duplicatedElement)){let o=(e.elements||[]).find(e=>e.id===n);if(o){t={...o,id:g("element")};let i=(e.elements||[]).findIndex(e=>e.id===n),r=[...e.elements||[]];r.splice(i+1,0,t),e.elements=r}}}});new b(s.sections);let d=function(e,t){let n=c(e),o=c(t).filter(e=>!n.includes(e));return o.length>0?o[0]:null}(o,s),u=l(o,s,"Duplicate element");e({page:s,history:u?[...i,u]:i,future:[],canUndo:i.length>0||!!u,canRedo:!1,selectedElementId:d,selectedSectionId:null,selectedRowId:null,selectedColumnId:null,isSettingsPanelOpen:!0})},deleteElement:n=>{let{page:o,history:i,future:a}=t(),s=(0,r.jM)(o,e=>{let t=new b(e.sections).getElement(n);if(t){let{column:o,row:i,section:a,parentColumnId:l}=t;l?e.sections=h(e.sections,a.id,e=>(0,r.jM)(e,e=>{e.rows=e.rows.map(e=>(e.id===i.id&&(e.columns=e.columns.map(e=>(e.id===l&&e.rows&&(e.rows=e.rows.map(e=>(e.id===i.id&&(e.columns=e.columns.map(e=>(e.id===o.id&&(e.elements=e.elements.filter(e=>e.id!==n)),e))),e))),e))),e))})):e.sections=h(e.sections,a.id,e=>p(e,i.id,e=>x(e,o.id,e=>f(e,n))))}else e.sections=function(e,t){let n=new b(e).getElement(t);if(!n)return e;let{column:o,row:i,section:r}=n;return h(e,r.id,e=>p(e,i.id,e=>x(e,o.id,e=>f(e,t))))}(e.sections,n),e.elements=(e.elements||[]).filter(e=>e.id!==n)}),c=l(o,s,"Delete element");e({page:s,history:c?[...i,c]:i,future:[],canUndo:i.length>0||!!c,canRedo:!1,selectedElementId:null})},selectElement:(t,n)=>{e({selectedElementId:t,selectedSectionId:null,selectedRowId:null,selectedColumnId:null,isSettingsPanelOpen:null!==t,isLayersOpen:!1,isSettingsOpen:!1})},getSelectedElement:()=>{let{page:e,selectedElementId:n}=t();if(!n)return null;let o=new b(e.sections||[]).getElement(n);return o?o.element:(e.elements||[]).find(e=>e.id===n)||null},addSection:n=>{let{page:o,history:i,future:a}=t(),s=(0,r.jM)(o,e=>{e.sections=[...e.sections,n]}),c=l(o,s,"Add section");e({page:s,history:c?[...i,c]:i,future:[],canUndo:i.length>0||!!c,canRedo:!1,selectedSectionId:n.id,selectedRowId:null,selectedColumnId:null,selectedElementId:null,isSettingsPanelOpen:!0})},updateSection:(n,o)=>{let{page:i,history:a,future:s}=t(),c=(0,r.jM)(i,e=>{e.sections=e.sections.map(e=>e.id===n?o:e)}),d=l(i,c,"Update section");e({page:c,history:d?[...a,d]:a,future:[],canUndo:a.length>0||!!d,canRedo:!1})},updateSectionSnapshots:(n,o)=>{let{page:i}=t(),r=i.sections.map(e=>e.id===n?{...e,snapshots:o}:e);e({page:{...i,sections:r}})},deleteSection:n=>{let{page:o,history:i,future:a}=t(),s=(0,r.jM)(o,e=>{e.sections=e.sections.filter(e=>e.id!==n)}),c=l(o,s,"Delete section");e({page:s,history:c?[...i,c]:i,future:[],canUndo:i.length>0||!!c,canRedo:!1,selectedSectionId:null,selectedRowId:null,selectedColumnId:null,selectedElementId:null})},selectSection:t=>{e({selectedElementId:null,selectedSectionId:t,selectedRowId:null,selectedColumnId:null,isSettingsPanelOpen:null!==t,isLayersOpen:!1,isSettingsOpen:!1})},getSelectedSection:()=>{let{page:e,selectedSectionId:n}=t();return n&&e.sections.find(e=>e.id===n)||null},addRow:(n,o,i)=>{let r,{page:a,history:l,historyIndex:s}=t(),c=d(a,l,"Add Row");r=i?function(e,t,n,o){let i=new b(e).getColumn(n);if(!i)return e;let{row:r,section:a}=i;return h(e,a.id,e=>p(e,r.id,e=>x(e,n,e=>({...e,rows:[...e.rows||[],o]}))))}(a.sections,0,i,o):a.sections.map(e=>e.id!==n?e:{...e,rows:[...e.rows,o]}),e({page:{...a,sections:r},history:c,historyIndex:c.length-1,canUndo:!0,canRedo:!1,selectedSectionId:null,selectedRowId:o.id,selectedColumnId:null,selectedElementId:null,isSettingsPanelOpen:!0})},updateRow:(n,o,i,r)=>{let a,{page:l,history:s,historyIndex:c}=t(),u=d(l,s,"Update Row");a=r?function(e,t,n){let o=new b(e).getRow(t);if(!o)return e;let{row:i,section:r,parentColumnId:a}=o;return a?h(e,r.id,e=>{let o=e=>e.map(e=>{var o;return e.id===a?{...e,rows:(null==(o=e.rows)?void 0:o.map(e=>e.id===t?n:e))||[]}:e});return{...e,rows:e.rows.map(e=>({...e,columns:o(e.columns)}))}}):h(e,r.id,e=>({...e,rows:e.rows.map(e=>e.id===t?n:e)}))}(l.sections,o,i):l.sections.map(e=>e.id!==n?e:{...e,rows:e.rows.map(e=>e.id===o?i:e)}),e({page:{...l,sections:a},history:u,historyIndex:u.length-1,canUndo:!0,canRedo:!1})},deleteRow:(n,o,i)=>{let r,{page:a,history:l,historyIndex:s}=t(),c=d(a,l,"Delete Row");r=i?function(e,t){let n=new b(e).getRow(t);if(!n)return e;let{section:o,parentColumnId:i}=n;return i?h(e,o.id,e=>{let n=e=>e.map(e=>{var n;return e.id===i?{...e,rows:(null==(n=e.rows)?void 0:n.filter(e=>e.id!==t))||[]}:e});return{...e,rows:e.rows.map(e=>({...e,columns:n(e.columns)}))}}):h(e,o.id,e=>({...e,rows:e.rows.filter(e=>e.id!==t)}))}(a.sections,o):a.sections.map(e=>e.id!==n?e:{...e,rows:e.rows.filter(e=>e.id!==o)}),e({page:{...a,sections:r},history:c,historyIndex:c.length-1,canUndo:!0,canRedo:!1,selectedRowId:null,selectedColumnId:null,selectedElementId:null})},selectRow:(t,n,o)=>{e({selectedElementId:null,selectedSectionId:null,selectedRowId:n,selectedColumnId:null,isSettingsPanelOpen:null!==n,isLayersOpen:!1,isSettingsOpen:!1})},getSelectedRow:()=>{let{page:e,selectedRowId:n}=t();if(!n)return null;let o=new b(e.sections).getRow(n);return o?{section:o.section,row:o.row}:null},addColumn:(n,o,i,a)=>{let{page:l,history:s,historyIndex:c}=t(),u=d(l,s,"Add Column"),g=(0,r.jM)(l.sections,e=>{var t,r,a,l;let s=e.find(e=>e.id===n);s&&(t=s.rows,r=o,a=i,l=0,s.rows=t.map(e=>{if(e.id===r){let t=[...e.columns,a],n=100/t.length;return t.forEach(e=>e.width=n),{...e,columns:t}}return e}))});e({page:{...l,sections:g},history:u,historyIndex:u.length-1,canUndo:!0,canRedo:!1,selectedColumnId:i.id,selectedElementId:null,selectedSectionId:null,selectedRowId:a||o,isSettingsPanelOpen:!0})},updateColumn:(n,o,i,a,l)=>{let{page:s,history:c,historyIndex:u}=t(),g=d(s,c,"Update Column"),m=(0,r.jM)(s.sections,e=>{let t=e.find(e=>e.id===n);t&&(t.rows=function e(t,n,o,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return t.map(t=>t.id===n?{...t,columns:t.columns.map(e=>e.id===o?i:e)}:{...t,columns:t.columns.map(t=>r&&t.id===r||t.rows&&t.rows.length>0?{...t,rows:t.rows?e(t.rows,n,o,i,t.id):t.rows}:t)})}(t.rows,o,i,a,l||null))});e({page:{...s,sections:m},history:g,historyIndex:g.length-1,canUndo:!0,canRedo:!1})},deleteColumn:(n,o,i,a)=>{let{page:l,history:s,historyIndex:c}=t(),u=d(l,s,"Delete Column"),g=(0,r.jM)(l.sections,e=>{let t=e.find(e=>e.id===n);t&&(t.rows=function e(t,n,o){return arguments.length>3&&void 0!==arguments[3]&&arguments[3],t.map(t=>{if(t.id===n){let e=t.columns.filter(e=>e.id!==o);return{...t,columns:function(e){if(0===e.length)return e;if(1===e.length)return[{...e[0],width:100}];let t=Number.parseFloat((100/e.length).toFixed(2));return e.map(e=>({...e,width:t}))}(e)}}return{...t,columns:t.columns.map(t=>t.rows&&t.rows.length>0?{...t,rows:e(t.rows,n,o,t.id)}:t)}})}(t.rows,o,i,a||null))});e({page:{...l,sections:g},history:u,historyIndex:u.length-1,canUndo:!0,canRedo:!1,selectedColumnId:null,selectedElementId:null})},selectColumn:(t,n,o,i)=>{e({selectedElementId:null,selectedSectionId:null,selectedRowId:null,selectedColumnId:o,isSettingsPanelOpen:null!==o,isLayersOpen:!1,isSettingsOpen:!1})},getSelectedColumn:()=>{var e,n;let{page:o,selectedColumnId:i}=t();return i?(e=o.sections,n=i,new b(e).getColumn(n)):null},toggleSettingsPanel:()=>{e(e=>({isSettingsPanelOpen:!e.isSettingsPanelOpen}))},openSettingsPanel:()=>{e({isSettingsPanelOpen:!0})},closeSettingsPanel:()=>{e({isSettingsPanelOpen:!1})},toggleAddSectionModal:()=>{e(e=>({isAddSectionModalOpen:!e.isAddSectionModalOpen}))},setViewMode:t=>{e({viewMode:t})},togglePreviewMode:()=>{e(e=>({isPreviewMode:!e.isPreviewMode}))},toggleLayers:()=>{e(e=>({isLayersOpen:!e.isLayersOpen}))},toggleSettings:()=>{e(e=>({isSettingsOpen:!e.isSettingsOpen}))},undoAction:()=>{var n;let{page:o,history:i,future:a}=t();if(0===i.length)return void console.warn("Undo action not available: no history available.");let l=i[i.length-1];e({page:(n=l.inversePatches,(0,r.$i)(o,n)),history:i.slice(0,-1),future:[l,...a],canUndo:i.length>1,canRedo:!0,selectedElementId:null,selectedSectionId:null,selectedRowId:null,selectedColumnId:null})},redoAction:()=>{var n;let{page:o,history:i,future:a}=t();if(0===a.length)return void console.warn("Redo action not available: no future actions.");let l=a[0];e({page:(n=l.patches,(0,r.$i)(o,n)),history:[...i,l],future:a.slice(1),canUndo:!0,canRedo:a.length>1,selectedElementId:null,selectedSectionId:null,selectedRowId:null,selectedColumnId:null})},moveSection:(n,o)=>{let{page:i,history:a,historyIndex:l}=t(),s=d(i,a,"Move Section"),c=(0,r.jM)(i.sections,e=>{let t=e.findIndex(e=>e.id===n);if(-1===t)return;let[i]=e.splice(t,1);e.splice(o,0,i)});e({page:{...i,sections:c},history:s,historyIndex:s.length-1,canUndo:!0,canRedo:!1})},moveRow:(n,o,i,a,l,s)=>{let{page:c,history:u,historyIndex:g}=t(),m=d(c,u,"Move Row"),h=(0,r.jM)(c.sections,e=>{let t=e.find(e=>e.id===o);if(!t)return;let r=e.find(e=>e.id===a);if(!r)return;let c=null;if(i){let e=!1;for(let o=0;o<t.rows.length;o++){let r=t.rows[o];for(let t=0;t<r.columns.length;t++){let o=r.columns[t];if(o.id===i){o.rows||(o.rows=[]);let t=o.rows.findIndex(e=>e.id===n);if(-1===t)continue;[c]=o.rows.splice(t,1),e=!0;break}}if(e)break}if(!c)return}else{let e=t.rows.findIndex(e=>e.id===n);if(-1===e)return;[c]=t.rows.splice(e,1)}if(!i&&l?(c.nestingLevel=2,c.columns.forEach(e=>e.nestingLevel=2)):i&&!l&&(c.nestingLevel=1,c.columns.forEach(e=>e.nestingLevel=1)),l){let e=!1;for(let t=0;t<r.rows.length;t++){let n=r.rows[t];for(let t=0;t<n.columns.length;t++){let o=n.columns[t];if(o.id===l){o.rows||(o.rows=[]),o.rows.splice(s,0,c),e=!0;break}}if(e)break}if(!e)return}else r.rows.splice(s,0,c)});e({page:{...c,sections:h},history:m,historyIndex:m.length-1,canUndo:!0,canRedo:!1})},moveColumn:(n,o,i,a,l,s,c,u)=>{let{page:g,history:m,historyIndex:h}=t(),p=d(g,m,"Move Column"),x=(0,r.jM)(g.sections,e=>{let t=e.find(e=>e.id===o);if(!t)return;let r=e.find(e=>e.id===l);if(!r)return;let d=null,g=null;if(a){let e=!1,o=null;for(let r=0;r<t.rows.length;r++){let l=t.rows[r];for(let t=0;t<l.columns.length;t++){let r=l.columns[t];if(r.id===a){if((o=r).rows||(o.rows=[]),!(g=o.rows.find(e=>e.id===i)))break;let t=g.columns.findIndex(e=>e.id===n);if(-1===t)break;if([d]=g.columns.splice(t,1),g.columns.length>0){let e=100/g.columns.length;g.columns.forEach(t=>t.width=e)}e=!0;break}}if(e)break}if(!d)return}else{if(!(g=t.rows.find(e=>e.id===i)))return;let e=g.columns.findIndex(e=>e.id===n);if(-1===e)return;if([d]=g.columns.splice(e,1),g.columns.length>0){let e=100/g.columns.length;g.columns.forEach(t=>t.width=e)}}!a&&c?d.nestingLevel=2:a&&!c&&(d.nestingLevel=1);let m=null;if(c){let e=!1,t=null;for(let n=0;n<r.rows.length;n++){let o=r.rows[n];for(let n=0;n<o.columns.length;n++){let i=o.columns[n];if(i.id===c){if((t=i).rows||(t.rows=[]),!(m=t.rows.find(e=>e.id===s)))break;m.columns.splice(u,0,d);let n=100/m.columns.length;m.columns.forEach(e=>e.width=n),e=!0;break}}if(e)break}if(!e)return}else{if(!(m=r.rows.find(e=>e.id===s)))return;m.columns.splice(u,0,d);let e=100/m.columns.length;m.columns.forEach(t=>t.width=e)}});e({page:{...g,sections:x},history:p,historyIndex:p.length-1,canUndo:!0,canRedo:!1})},moveElement:(n,o,i,a,l,s,c,u)=>{let{page:g,history:m,historyIndex:h}=t(),p=d(g,m,"Move Element"),x=(0,r.jM)(g.sections,e=>{let t=(e,t,n)=>{for(let o of e){if(o.id===t){let e=o.columns.find(e=>e.id===n);if(e)return{column:e,row:o,parentColumn:null,isNested:!1}}for(let e of o.columns)if(e.rows){for(let o of e.rows)if(o.id===t){let t=o.columns.find(e=>e.id===n);if(t)return{column:t,row:o,parentColumn:e,isNested:!0}}}}return{column:null,row:null,parentColumn:null,isNested:!1}},r=e.find(e=>e.id===o);if(!r)return;let d=e.find(e=>e.id===l);if(!d)return;let g=t(r.rows,i,a);if(!g.column)return;let m=g.column,h=m.elements.findIndex(e=>e.id===n);if(-1===h)return;let[p]=m.elements.splice(h,1),x=t(d.rows,s,c);if(!x.column)return;let f=x.column,b=u;m===f&&h<u&&(b=Math.max(0,u-1)),f.elements.splice(b,0,p)});e({page:{...g,sections:x},history:p,historyIndex:p.length-1,canUndo:!0,canRedo:!1})},reorderElement:(n,o,i,a,s)=>{let{page:c,history:d,future:u}=t(),g=(0,r.jM)(c,e=>{let t=e.sections.find(e=>e.id===o);if(!t)return;let{column:r}=((e,t,n)=>{for(let o of e.rows){if(o.id===t){let e=o.columns.find(e=>e.id===n);if(e)return{column:e,row:o,parentColumn:null,isNested:!1}}for(let e of o.columns)if(e.rows){for(let o of e.rows)if(o.id===t){let t=o.columns.find(e=>e.id===n);if(t)return{column:t,row:o,parentColumn:e,isNested:!0}}}}return{column:null,row:null,parentColumn:null,isNested:!1}})(t,i,a);if(!r)return;let l=r.elements.findIndex(e=>e.id===n);if(-1===l)return;let c="up"===s?Math.max(0,l-1):Math.min(r.elements.length-1,l+1);if(c===l)return;let[d]=r.elements.splice(l,1);r.elements.splice(c,0,d)}),m=l(c,g,"Reorder Element");e({page:g,history:m?[...d,m]:d,future:[],canUndo:d.length>0||!!m,canRedo:!1})},reorderColumn:(n,o,i,a,l)=>{let{page:s,history:c,historyIndex:u}=t(),g=d(s,c,"Reorder Column"),m=(0,r.jM)(s.sections,e=>{let t,r=e.find(e=>e.id===o);if(!r)return;if(a)for(let e of r.rows){for(let n of e.columns)if(n.rows){let e=n.rows.find(e=>e.id===i);if(e){t=e;break}}if(t)break}else t=r.rows.find(e=>e.id===i);if(!t)return;let s=t.columns.findIndex(e=>e.id===n);if(-1===s)return;let c="up"===l?Math.max(0,s-1):Math.min(t.columns.length-1,s+1);if(c===s)return;let[d]=t.columns.splice(s,1);t.columns.splice(c,0,d);let u=100/t.columns.length;t.columns.forEach(e=>e.width=Number.parseFloat(u.toFixed(2)))});e({page:{...s,sections:m},history:g,historyIndex:g.length-1,canUndo:!0,canRedo:!1})},reorderRow:(n,o,i,a)=>{let{page:l,history:s,historyIndex:c}=t(),u=d(l,s,"Reorder Row"),g=(0,r.jM)(l.sections,e=>{let t=e.find(e=>e.id===o);if(t)if(i){let e=null;for(let n of t.rows){for(let t of n.columns)if(t.id===i){e=t;break}if(e)break}if(!e||!e.rows)return;let o=e.rows.findIndex(e=>e.id===n);if(-1===o)return;let r="up"===a?Math.max(0,o-1):Math.min(e.rows.length-1,o+1);if(r===o)return;let[l]=e.rows.splice(o,1);e.rows.splice(r,0,l)}else{let e=t.rows.findIndex(e=>e.id===n);if(-1===e)return;let o="up"===a?Math.max(0,e-1):Math.min(t.rows.length-1,e+1);if(o===e)return;let[i]=t.rows.splice(e,1);t.rows.splice(o,0,i)}});e({page:{...l,sections:g},history:u,historyIndex:u.length-1,canUndo:!0,canRedo:!1})},setCurrentPageInfo:t=>{e({currentPageId:t.id,currentPageTitle:t.title})},savePage:async()=>null,setPageSnapshots:(t,n)=>{e(e=>({pageSnapshots:{...e.pageSnapshots,[t]:n}}))}}),{name:"builderStore"}));function c(e){let t=[];return e.elements&&t.push(...e.elements.map(e=>e.id)),e.sections.forEach(e=>{e.rows.forEach(e=>{e.columns.forEach(e=>{t.push(...e.elements.map(e=>e.id)),e.rows&&e.rows.forEach(e=>{e.columns.forEach(e=>{t.push(...e.elements.map(e=>e.id))})})})})}),t}function d(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Update",o=JSON.parse(JSON.stringify(e)),i={id:e.id,title:e.title,sections:[],elements:[]},r=a(i,o);return[...t,{action:n,patches:r,inversePatches:a(o,i)}]}function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{id:g("row"),columns:[],settings:{gutter:20,paddingTop:20,paddingRight:0,paddingBottom:20,paddingLeft:0,verticalAlign:"top"},nestingLevel:e}}function g(e){return"".concat(e,"-").concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,5))}function m(e,t){let n=new b(e).getElement(t);if(!n)return{sections:e};let{element:o,column:i,row:r,section:a}=n,l={...o,id:g("element")},s=i.elements.findIndex(e=>e.id===t);return{sections:h(e,a.id,e=>p(e,r.id,e=>x(e,i.id,e=>{let t=[...e.elements];return t.splice(s+1,0,l),{...e,elements:t}}))),duplicatedElement:l}}let h=(e,t,n)=>e.map(e=>e.id===t?n(e):e),p=(e,t,n)=>({...e,rows:e.rows.map(e=>e.id===t?n(e):e)}),x=(e,t,n)=>({...e,columns:e.columns.map(e=>e.id===t?n(e):e)}),f=(e,t)=>({...e,elements:e.elements.filter(e=>e.id!==t)});class b{populateMaps(e){e.forEach(e=>{e.rows.forEach(t=>{this.rowMap.set(t.id,{row:t,section:e}),t.columns.forEach(n=>{this.columnMap.set(n.id,{column:n,row:t,section:e}),n.elements.forEach(o=>{this.elementMap.set(o.id,{element:o,column:n,row:t,section:e})}),n.rows&&n.rows.forEach(t=>{this.rowMap.set(t.id,{row:t,section:e,parentColumnId:n.id}),t.columns.forEach(o=>{this.columnMap.set(o.id,{column:o,row:t,section:e,parentColumnId:n.id}),o.elements.forEach(i=>{this.elementMap.set(i.id,{element:i,column:o,row:t,section:e,parentColumnId:n.id})})})})})})})}getElement(e){return this.elementMap.get(e)}getColumn(e){return this.columnMap.get(e)}getRow(e){return this.rowMap.get(e)}constructor(e){this.sections=e,this.elementMap=new Map,this.columnMap=new Map,this.rowMap=new Map,this.populateMaps(e)}}},87559:(e,t,n)=>{n.d(t,{L:()=>a,N:()=>l});var o=n(31768),i=n(27252);let r=(0,i.createContext)(void 0);function a(e){let{children:t}=e,[n,a]=(0,i.useState)({type:null,id:null}),l=(0,i.useCallback)((e,t)=>{a({type:e,id:t})},[]),s=(0,i.useCallback)(()=>{a({type:null,id:null})},[]),c=(0,i.useCallback)((e,t)=>n.type===e&&n.id===t,[n]);return(0,o.jsx)(r.Provider,{value:{hoveredElement:n,setHoveredElement:l,clearHover:s,isHovered:c},children:t})}function l(){let e=(0,i.useContext)(r);if(void 0===e)throw Error("useBuilderHover must be used within a BuilderHoverProvider");return e}},91732:(e,t,n)=>{n.d(t,{A:()=>u});var o=n(31768),i=n(58799),r=n(32827),a=n(68583),l=n(42747),s=n(14372);let c=e=>"object"==typeof e&&null!==e&&"type"in e&&"gradient"===e.type,d=e=>"object"==typeof e&&null!==e&&!("type"in e);function u(e){var t,n,u,g,m,h;let{section:p,isPreview:x=!1}=e,f=(0,s.useTranslations)("dashboard"),{theme:b}=(0,a.D)();if(!p||"object"!=typeof p)return console.warn("SectionRenderer: Invalid section provided:",p),(0,o.jsx)("div",{className:"p-4 text-center text-red-500",children:f("invalid_section_data")});if(!p.rows||!Array.isArray(p.rows))return console.warn("SectionRenderer: Section missing rows array:",p),(0,o.jsx)("div",{className:"p-4 text-center text-yellow-600",children:f("section_has_no_content")});let v=p.settings||{},w=e=>{if(e)return d(e)&&e.light&&e.dark?"dark"===b?e.dark:e.light:"string"==typeof e?e:void 0},y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e)return[];let n="dark"===b&&e.dark?e.dark:"light"===b&&e.light?e.light:e,o=n.direction||"to-r",i=n.from||"blue-500",r=n.to||"purple-500";return["".concat(t,"bg-gradient-").concat(o),"".concat(t,"from-").concat(i),n.via?"".concat(t,"via-").concat(n.via):"","".concat(t,"to-").concat(r)].filter(Boolean)},k=e=>{var t,n,r,a;if(!e||"object"!=typeof e)return console.warn("SectionRenderer: Invalid row provided:",e),(0,o.jsx)("div",{className:"p-2 text-center text-red-500",children:f("invalid_row_data")});if(!e.columns||!Array.isArray(e.columns))return console.warn("SectionRenderer: Row missing columns array:",e),(0,o.jsx)("div",{className:"p-2 text-center text-yellow-600",children:f("row_has_no_columns")});let s=e.settings||{},u={...(0,l.PF)(s,"row")};if(s.backgroundColor)if(d(s.backgroundColor)){let e=w(s.backgroundColor);e&&!e.includes("-")&&(u.backgroundColor=e)}else"string"!=typeof s.backgroundColor||s.backgroundColor.includes("-")||(u.backgroundColor=s.backgroundColor);s.paddingTop&&(u.paddingTop="".concat(s.paddingTop,"px")),s.paddingRight&&(u.paddingRight="".concat(s.paddingRight,"px")),s.paddingBottom&&(u.paddingBottom="".concat(s.paddingBottom,"px")),s.paddingLeft&&(u.paddingLeft="".concat(s.paddingLeft,"px"));let g=["row-container","relative","transition-all","duration-200","box-border","flex","flex-wrap","w-full"];if(s.backgroundColor&&(c(s.backgroundColor)?g.push(...y(s.backgroundColor.gradient)):d(s.backgroundColor)?("light"===b&&(null==(t=s.backgroundColor.light)?void 0:t.includes("-"))&&g.push("bg-".concat(s.backgroundColor.light)),"dark"===b&&(null==(n=s.backgroundColor.dark)?void 0:n.includes("-"))&&g.push("dark:bg-".concat(s.backgroundColor.dark))):"string"==typeof s.backgroundColor&&s.backgroundColor.includes("-")&&g.push("bg-".concat(s.backgroundColor))),s.hoverBackgroundColor)if(c(s.hoverBackgroundColor)){let e=y(s.hoverBackgroundColor.gradient,"hover:");g.push(...e)}else d(s.hoverBackgroundColor)?("light"===b&&(null==(r=s.hoverBackgroundColor.light)?void 0:r.includes("-"))&&g.push("hover:bg-".concat(s.hoverBackgroundColor.light)),"dark"===b&&(null==(a=s.hoverBackgroundColor.dark)?void 0:a.includes("-"))&&g.push("hover:dark:bg-".concat(s.hoverBackgroundColor.dark))):"string"==typeof s.hoverBackgroundColor&&s.hoverBackgroundColor.includes("-")&&g.push("hover:bg-".concat(s.hoverBackgroundColor));if(s.verticalAlign)switch(s.verticalAlign){case"top":g.push("items-start");break;case"middle":g.push("items-center");break;case"bottom":g.push("items-end")}return(0,o.jsx)("div",{style:u,className:(0,i.cn)(...g),children:e.columns.filter(e=>e&&"object"==typeof e).map((e,t)=>(0,o.jsx)("div",{className:"relative",style:{width:"".concat(e.width.toFixed(2),"%"),paddingLeft:s.gutter?"".concat(s.gutter/2,"px"):void 0,paddingRight:s.gutter?"".concat(s.gutter/2,"px"):void 0},children:C(e,s.gutter||0,t)},e.id))})},C=(e,t,n)=>{var a,s,u,g,m,h,p,v;if(!e||"object"!=typeof e)return console.warn("SectionRenderer: Invalid column provided:",e),(0,o.jsx)("div",{className:"p-2 text-center text-red-500",children:f("invalid_column_data")});let C=new Set,j=e.settings||{},S={...(0,l.PF)(j,"column")};if(j.backgroundColor)if(d(j.backgroundColor)){let e=w(j.backgroundColor);e&&!e.includes("-")&&(S.backgroundColor=e)}else"string"!=typeof j.backgroundColor||j.backgroundColor.includes("-")||(S.backgroundColor=j.backgroundColor);j.paddingTop&&(S.paddingTop="".concat(j.paddingTop,"px")),j.paddingRight&&(S.paddingRight="".concat(j.paddingRight,"px")),j.paddingBottom&&(S.paddingBottom="".concat(j.paddingBottom,"px")),j.paddingLeft&&(S.paddingLeft="".concat(j.paddingLeft,"px"));let N=["column-container","relative","transition-all","duration-200","box-border"];if((j.backgroundColor&&(c(j.backgroundColor)?N.push(...y(j.backgroundColor.gradient)):d(j.backgroundColor)?("light"===b&&(null==(u=j.backgroundColor.light)?void 0:u.includes("-"))&&N.push("bg-".concat(j.backgroundColor.light)),"dark"===b&&(null==(g=j.backgroundColor.dark)?void 0:g.includes("-"))&&N.push("dark:bg-".concat(j.backgroundColor.dark))):"string"==typeof j.backgroundColor&&j.backgroundColor.includes("-")&&N.push("bg-".concat(j.backgroundColor))),j.hoverBackgroundColor)&&c(j.backgroundColor)===c(j.hoverBackgroundColor))if(c(j.hoverBackgroundColor)){let e=y(j.hoverBackgroundColor.gradient,"hover:");N.push(...e)}else d(j.hoverBackgroundColor)?("light"===b&&(null==(m=j.hoverBackgroundColor.light)?void 0:m.includes("-"))&&N.push("hover:bg-".concat(j.hoverBackgroundColor.light)),"dark"===b&&(null==(h=j.hoverBackgroundColor.dark)?void 0:h.includes("-"))&&N.push("hover:dark:bg-".concat(j.hoverBackgroundColor.dark))):"string"==typeof j.hoverBackgroundColor&&j.hoverBackgroundColor.includes("-")&&N.push("hover:bg-".concat(j.hoverBackgroundColor));return j.borderWidth&&j.borderWidth>0&&j.hoverBorderColor&&c(j.borderColor)===c(j.hoverBorderColor)&&(c(j.hoverBorderColor)?N.push("hover:border-transparent hover:relative"):d(j.hoverBorderColor)?("light"===b&&(null==(p=j.hoverBorderColor.light)?void 0:p.includes("-"))&&N.push("hover:border-".concat(j.hoverBorderColor.light)),"dark"===b&&(null==(v=j.hoverBorderColor.dark)?void 0:v.includes("-"))&&N.push("hover:dark:border-".concat(j.hoverBorderColor.dark))):"string"==typeof j.hoverBorderColor&&j.hoverBorderColor.includes("-")&&N.push("hover:border-".concat(j.hoverBorderColor))),j.hoverBorderColor&&N.push("transition-colors duration-200"),(0,o.jsxs)("div",{style:S,className:(0,i.cn)(...N),children:[null==(a=e.elements)?void 0:a.filter(e=>e&&"object"==typeof e&&e.id).map((t,n)=>{var i,a,l,s,c;let d=e.elements.findIndex(e=>e.id===t.id),u=t.settings||{},g=(null==(i=t.settings)?void 0:i.display)==="inline-block"||"button"===t.type,m=e.elements[d+1];if((null==m||null==(a=m.settings)?void 0:a.display)==="inline-block"||null==m||m.type,g&&!C.has(d)){let t=[],n=d;for(;n<e.elements.length;){let o=e.elements[n];if(!o||"object"!=typeof o){n++;continue}if((null==(c=o.settings)?void 0:c.display)==="inline-block"||"button"===o.type)t.push({element:o,index:n}),C.add(n),n++;else break}let i=(null==(s=t[0])||null==(l=s.element.settings)?void 0:l.textAlign)||"left";return(0,o.jsx)("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:(e=>{switch(e){case"center":return"center";case"right":return"flex-end";default:return"flex-start"}})(i),gap:"16px",marginTop:u.marginTop?"".concat(u.marginTop,"px"):void 0,marginBottom:u.marginBottom?"".concat(u.marginBottom,"px"):void 0},children:t.map(e=>{let{element:t,index:n}=e;return(0,o.jsx)("div",{style:{display:"inline-block"},children:(0,o.jsx)(r.Ay,{element:t,isEditMode:!x})},n)})},"inline-group-".concat(d))}return C.has(d)?null:(0,o.jsx)("div",{style:{marginTop:u.marginTop?"".concat(u.marginTop,"px"):void 0,marginRight:u.marginRight?"".concat(u.marginRight,"px"):void 0,marginBottom:u.marginBottom?"".concat(u.marginBottom,"px"):void 0,marginLeft:u.marginLeft?"".concat(u.marginLeft,"px"):void 0},children:(0,o.jsx)(r.Ay,{element:t,isEditMode:!x})},d)}),null==(s=e.rows)?void 0:s.filter(e=>e&&"object"==typeof e).map((e,t)=>(0,o.jsx)("div",{children:k(e)},t))]},n)},j=["section-container","relative","transition-all","duration-200","box-border"];return v.backgroundColor||j.push("bg-white","dark:bg-zinc-900"),v.backgroundColor&&(c(v.backgroundColor)?j.push(...y(v.backgroundColor.gradient)):d(v.backgroundColor)?("light"===b&&(null==(m=v.backgroundColor.light)?void 0:m.includes("-"))&&j.push("bg-".concat(v.backgroundColor.light)),"dark"===b&&(null==(h=v.backgroundColor.dark)?void 0:h.includes("-"))&&j.push("dark:bg-".concat(v.backgroundColor.dark))):"string"==typeof v.backgroundColor&&v.backgroundColor.includes("-")&&j.push("bg-".concat(v.backgroundColor))),(0,o.jsx)("div",{className:"relative",style:{marginTop:v.marginTop?"".concat(v.marginTop,"px"):void 0,marginRight:v.marginRight?"".concat(v.marginRight,"px"):void 0,marginBottom:v.marginBottom?"".concat(v.marginBottom,"px"):void 0,marginLeft:v.marginLeft?"".concat(v.marginLeft,"px"):void 0},children:(0,o.jsxs)("div",{style:{...(()=>{let e={};if(v.backgroundColor)if(d(v.backgroundColor)){let t=w(v.backgroundColor);t&&!t.includes("-")&&(e.backgroundColor=t)}else"string"!=typeof v.backgroundColor||v.backgroundColor.includes("-")||(e.backgroundColor=v.backgroundColor);return v.backgroundImage&&(e.backgroundImage="url(".concat(v.backgroundImage,")"),e.backgroundSize="cover",e.backgroundPosition="center"),e})(),...(0,l.PF)(v,"section"),paddingTop:v.paddingTop?"".concat(v.paddingTop,"px"):void 0,paddingRight:v.paddingRight?"".concat(v.paddingRight,"px"):void 0,paddingBottom:v.paddingBottom?"".concat(v.paddingBottom,"px"):void 0,paddingLeft:v.paddingLeft?"".concat(v.paddingLeft,"px"):void 0},className:(0,i.cn)(...j),children:[v.backgroundOverlay&&(0,o.jsx)("div",{className:(0,i.cn)("absolute inset-0 pointer-events-none",d(v.backgroundOverlay)&&{["bg-".concat(v.backgroundOverlay.light)]:"light"===b&&(null==(t=v.backgroundOverlay.light)?void 0:t.includes("-")),["dark:bg-".concat(v.backgroundOverlay.dark)]:"dark"===b&&(null==(n=v.backgroundOverlay.dark)?void 0:n.includes("-"))}),style:"string"==typeof v.backgroundOverlay||d(v.backgroundOverlay)&&(!(null==(u=v.backgroundOverlay.light)?void 0:u.includes("-"))||!(null==(g=v.backgroundOverlay.dark)?void 0:g.includes("-")))?{backgroundColor:w(v.backgroundOverlay)}:{}}),(0,o.jsx)("div",{className:(0,i.cn)("relative z-1 w-full h-full",(()=>{switch(p.type){case"fullwidth":return"w-full";case"specialty":return"max-w-7xl mx-auto px-4";default:return"max-w-6xl mx-auto px-4"}})()),children:p.rows.filter(e=>e&&"object"==typeof e).map((e,t)=>(0,o.jsx)("div",{className:"relative",children:k(e)},t))})]})})}},95442:(e,t,n)=>{n.d(t,{Hg:()=>k,L8:()=>b,v6:()=>C});var o=n(31768),i=n(27252),r=n(80180),a=n(32827),l=n(87559),s=n(58799),c=n(32824),d=n(1675),u=n(71094),g=n(19108),m=n(72401),h=n(38087),p=n(70549),x=n(42747);let f=i.memo(e=>{let{direction:t,value:n,isActive:i,isLinked:r,variant:a,toggleLink:l}=e;if(!i)return null;let s={};switch(t){case"top":case"left":s={top:"50%",left:"50%",transform:"translate(-50%, -50%)"};break;case"right":s={top:"50%",right:"50%",transform:"translate(50%, -50%)"};break;case"bottom":s={bottom:"50%",left:"50%",transform:"translate(-50%, 50%)"}}let u="padding"===a?"text-blue-500":"text-green-500",g="padding"===a?"text-blue-400":"text-green-400",m="top"===t||"bottom"===t?"vertical":"horizontal";return(0,o.jsxs)("div",{className:"absolute pointer-events-auto flex items-center gap-1 px-1 py-0.5 bg-white/90 dark:bg-zinc-900/90 rounded-sm shadow-sm border border-gray-200/50 dark:border-zinc-700/50 backdrop-blur-sm z-50",style:s,children:[(0,o.jsx)("span",{className:"text-xs font-medium ".concat(u),children:Math.round(n)}),(0,o.jsx)("button",{onClick:e=>l(m,t,e),className:"w-3 h-3 flex items-center justify-center hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-sm transition-colors ".concat(g),title:"".concat(r?"Unlink":"Link"," ").concat(m," ").concat(a),children:r?(0,o.jsx)(c.A,{className:"w-2 h-2"}):(0,o.jsx)(d.A,{className:"w-2 h-2"})})]})});function b(e){let{id:t,isSelected:n,onSelect:o,settings:r,updateSettings:a,isStructure:l=!1,structureType:s,isEditMode:c=!0,children:d}=e,[u,g]=(0,i.useState)(!1),[m,h]=(0,i.useState)(null),[p,x]=(0,i.useState)(!1),[f,b]=(0,i.useState)(""),[v,w]=(0,i.useState)({x:0,y:0}),[y,k]=(0,i.useState)(!1),[C,j]=(0,i.useState)(!1),[S,N]=(0,i.useState)(!1),[M,I]=(0,i.useState)(!1),R=(0,i.useRef)(null),E=(0,i.useRef)(r),T=(0,i.useRef)(void 0),B=(0,i.useRef)(void 0);(0,i.useEffect)(()=>{E.current=r},[r]);let L=(0,i.useCallback)(e=>{T.current&&cancelAnimationFrame(T.current),T.current=requestAnimationFrame(()=>{let t={...E.current},n={},o=!1;Object.entries(e).forEach(e=>{let[i,r]=e;t[i]!==r&&(n[i]=r,o=!0)}),o&&Object.entries(n).forEach(e=>{let[t,n]=e;a(t,n)})})},[a]);(0,i.useEffect)(()=>{void 0!==r.paddingTop&&void 0!==r.paddingBottom&&k(Number(r.paddingTop)===Number(r.paddingBottom)),void 0!==r.paddingLeft&&void 0!==r.paddingRight&&j(Number(r.paddingLeft)===Number(r.paddingRight)),void 0!==r.marginTop&&void 0!==r.marginBottom&&N(Number(r.marginTop)===Number(r.marginBottom)),void 0!==r.marginLeft&&void 0!==r.marginRight&&I(Number(r.marginLeft)===Number(r.marginRight))},[r.paddingTop,r.paddingBottom,r.paddingLeft,r.paddingRight,r.marginTop,r.marginBottom,r.marginLeft,r.marginRight]);let A=(0,i.useCallback)((e,t,n)=>{null==n||n.stopPropagation(),null==n||n.preventDefault();let o=E.current;if("vertical"===e){let e=!y;if(k(e),e&&t){let e="top"===t?o.paddingTop||0:o.paddingBottom||0;L({paddingTop:e,paddingBottom:e})}}else{let e=!C;if(j(e),e&&t){let e="left"===t?o.paddingLeft||0:o.paddingRight||0;L({paddingLeft:e,paddingRight:e})}}},[y,C,L]),P=(0,i.useCallback)((e,t,n)=>{null==n||n.stopPropagation(),null==n||n.preventDefault();let o=E.current;if("vertical"===e){let e=!S;if(N(e),e&&t){let e="top"===t?o.marginTop||0:o.marginBottom||0;L({marginTop:e,marginBottom:e})}}else{let e=!M;if(I(e),e&&t){let e="left"===t?o.marginLeft||0:o.marginRight||0;L({marginLeft:e,marginRight:e})}}},[S,M,L]);(0,i.useEffect)(()=>{if(!u||!m||!B.current)return;let e=e=>{e.preventDefault(),T.current&&cancelAnimationFrame(T.current),T.current=requestAnimationFrame(()=>{let{startPos:t,initialDimensions:n,parentWidth:o}=B.current,i=e.clientX-t.x,a=e.clientY-t.y,l={...n.settings};if("right"===m){let e=Math.max(50,n.width+i),t=r.widthUnit||"%";if("%"===t){let t=Math.round(e/o*1e3)/10;l.width="".concat(t,"%"),b("Width: ".concat(t,"%"))}else if("px"===t)l.width="".concat(Math.round(e),"px"),b("Width: ".concat(Math.round(e),"px"));else{let e=Math.max(10,(Number.parseFloat(r.width)||100)+i/10);l.width="".concat(Math.round(e)).concat(t),b("Width: ".concat(Math.round(e)).concat(t))}}else if("left"===m){let e=Math.max(50,n.width-i),t=r.widthUnit||"%";if("%"===t){let t=Math.round(e/o*1e3)/10;l.width="".concat(t,"%"),b("Width: ".concat(t,"%"))}else if("px"===t)l.width="".concat(Math.round(e),"px"),b("Width: ".concat(Math.round(e),"px"));else{let e=Math.max(10,(Number.parseFloat(r.width)||100)-i/10);l.width="".concat(Math.round(e)).concat(t),b("Width: ".concat(Math.round(e)).concat(t))}}else if("top"===m){let e=Math.max(20,n.height-a);l.height="".concat(e,"px"),b("Height: ".concat(e,"px"))}else if("bottom"===m){let e=Math.max(20,n.height+a);l.height="".concat(e,"px"),b("Height: ".concat(e,"px"))}else if("padding-top"===m){let e=Math.max(0,(n.settings.paddingTop||0)+a);l.paddingTop=e,y&&(l.paddingBottom=e)}else if("padding-bottom"===m){let e=Math.max(0,(n.settings.paddingBottom||0)-a);l.paddingBottom=e,y&&(l.paddingTop=e)}else if("padding-right"===m){let e=Math.max(0,(n.settings.paddingRight||0)-i);l.paddingRight=e,C&&(l.paddingLeft=e)}else if("padding-left"===m){let e=Math.max(0,(n.settings.paddingLeft||0)+i);l.paddingLeft=e,C&&(l.paddingRight=e)}else if("margin-top"===m){let e=Math.max(0,(n.settings.marginTop||0)-a);l.marginTop=e,S&&(l.marginBottom=e)}else if("margin-bottom"===m){let e=Math.max(0,(n.settings.marginBottom||0)+a);l.marginBottom=e,S&&(l.marginTop=e)}else if("margin-right"===m){let e=Math.max(0,(n.settings.marginRight||0)+i);l.marginRight=e,M&&(l.marginLeft=e)}else if("margin-left"===m){let e=Math.max(0,(n.settings.marginLeft||0)-i);l.marginLeft=e,M&&(l.marginRight=e)}w({x:e.clientX,y:e.clientY}),L(l)})},t=()=>{g(!1),h(null),x(!1),B.current=void 0,T.current&&(cancelAnimationFrame(T.current),T.current=void 0)};return document.addEventListener("mousemove",e,{passive:!1}),document.addEventListener("mouseup",t),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t),T.current&&(cancelAnimationFrame(T.current),T.current=void 0)}},[u,m,r.widthUnit,r.width,y,C,S,M,L]);let z=(0,i.useCallback)((e,t)=>{if(e.stopPropagation(),e.preventDefault(),R.current){var i;let t=R.current.getBoundingClientRect(),n=(null==(i=R.current.parentElement)?void 0:i.clientWidth)||1e3;B.current={startPos:{x:e.clientX,y:e.clientY},initialDimensions:{width:t.width,height:t.height,settings:{...r}},parentWidth:n}}g(!0),h(t),x(!0),n||o()},[R,r,n,o]),D=(0,i.useCallback)(()=>{switch(m){case"top":case"bottom":case"padding-top":case"padding-bottom":case"margin-top":case"margin-bottom":return"ns-resize";case"left":case"right":case"padding-left":case"padding-right":case"margin-left":case"margin-right":return"ew-resize";default:return"default"}},[m]),W=(0,i.useCallback)(e=>{let t=r["padding".concat(e.charAt(0).toUpperCase()+e.slice(1))]||0,o=n&&t>0,i={position:"absolute",backgroundColor:o?"rgba(59, 130, 246, 0.3)":"transparent",border:o?"1px solid rgb(59, 130, 246)":"none",cursor:(null==m?void 0:m.startsWith("padding"))?D():"pointer",transition:"background-color 0.15s ease, border-color 0.15s ease",zIndex:10};switch(e){case"top":return{...i,top:0,left:0,right:0,height:"".concat(t,"px")};case"right":return{...i,top:0,right:0,bottom:0,width:"".concat(t,"px")};case"bottom":return{...i,bottom:0,left:0,right:0,height:"".concat(t,"px")};case"left":return{...i,top:0,left:0,bottom:0,width:"".concat(t,"px")};default:return i}},[r,n,m,D]),H=(0,i.useCallback)(e=>{let t=r["margin".concat(e.charAt(0).toUpperCase()+e.slice(1))]||0,o=n&&t>0,i={position:"absolute",backgroundColor:o?"rgba(34, 197, 94, 0.2)":"transparent",border:o?"1px dashed rgb(34, 197, 94)":"none",cursor:(null==m?void 0:m.startsWith("margin"))?D():"pointer",transition:"background-color 0.15s ease, border-color 0.15s ease",zIndex:5};switch(e){case"top":return{...i,top:"-".concat(t,"px"),left:"-".concat(r.marginLeft||0,"px"),right:"-".concat(r.marginRight||0,"px"),height:"".concat(t,"px")};case"right":return{...i,top:"-".concat(r.marginTop||0,"px"),right:"-".concat(t,"px"),bottom:"-".concat(r.marginBottom||0,"px"),width:"".concat(t,"px")};case"bottom":return{...i,bottom:"-".concat(t,"px"),left:"-".concat(r.marginLeft||0,"px"),right:"-".concat(r.marginRight||0,"px"),height:"".concat(t,"px")};case"left":return{...i,top:"-".concat(r.marginTop||0,"px"),left:"-".concat(t,"px"),bottom:"-".concat(r.marginBottom||0,"px"),width:"".concat(t,"px")};default:return i}},[r,n,m,D]);return d(((0,i.useEffect)(()=>()=>{T.current&&cancelAnimationFrame(T.current)},[]),c)?{elementRef:R,isResizing:u,resizeDirection:m,showTooltip:p,tooltipContent:f,tooltipPosition:v,getCursorStyle:D,getPaddingHandleStyle:W,getMarginHandleStyle:H,handleMouseDown:z,linkedPaddingVertical:y,linkedPaddingHorizontal:C,togglePaddingLink:A,linkedMarginVertical:S,linkedMarginHorizontal:M,toggleMarginLink:P}:{elementRef:R,isResizing:!1,resizeDirection:null,showTooltip:!1,tooltipContent:"",tooltipPosition:{x:0,y:0},getCursorStyle:()=>"default",getPaddingHandleStyle:()=>({}),getMarginHandleStyle:()=>({}),handleMouseDown:()=>{},linkedPaddingVertical:!1,linkedPaddingHorizontal:!1,togglePaddingLink:()=>{},linkedMarginVertical:!1,linkedMarginHorizontal:!1,toggleMarginLink:()=>{}})}function v(e){let{direction:t,onMouseDown:n,className:i,style:r}=e;return(0,o.jsx)("div",{className:"absolute bg-transparent hover:bg-purple-500 z-20 ".concat((0,x.Yv)(t)," ").concat(i||""),style:r,onMouseDown:e=>n(e,t)})}f.displayName="MeasurementLabel";let w=i.memo(function(e){let{settings:t,isSelected:n,isHovered:r,type:a,id:l,resizeDirection:s,getPaddingHandleStyle:c,handleMouseDown:d,linkedPaddingVertical:u,linkedPaddingHorizontal:g,togglePaddingLink:m}=e,[h,p]=(0,i.useState)(null),x=(0,i.useCallback)(e=>s==="padding-".concat(e)||h===e||("top"===e||"bottom"===e)&&!!u&&("padding-top"===s||"padding-bottom"===s||"top"===h||"bottom"===h)||("left"===e||"right"===e)&&!!g&&("padding-left"===s||"padding-right"===s||"left"===h||"right"===h)||!1,[s,h,u,g]),b=["top","right","bottom","left"];return n?(0,o.jsxs)(o.Fragment,{children:[b.map(e=>{let n=t["padding".concat(e.charAt(0).toUpperCase()+e.slice(1))]||0;return(0,o.jsx)("div",{className:"absolute cursor-".concat("top"===e||"bottom"===e?"ns-resize":"ew-resize"," z-10 pointer-events-auto transition-colors duration-150 ").concat(x(e)?"bg-blue-100/30":"bg-transparent hover:bg-blue-100/20"),style:c(e),onMouseDown:t=>d(t,"padding-".concat(e)),onMouseEnter:()=>p(e),onMouseLeave:()=>p(null),children:(0,o.jsx)(f,{direction:e,value:n,isActive:x(e),isLinked:"top"===e||"bottom"===e?u:g,variant:"padding",toggleLink:m})},e)}),b.map(e=>{let n="hover-".concat(e);if(t["padding".concat(e.charAt(0).toUpperCase()+e.slice(1))])return null;let i="absolute hover:bg-blue-100/20 hover:border border-blue-500 cursor-"+("top"===e||"bottom"===e?"ns-resize":"ew-resize")+" z-10 pointer-events-auto",r={};return"top"===e&&(r={top:0,left:"4px",right:"4px",height:"4px"}),"right"===e&&(r={top:"4px",right:0,bottom:"4px",width:"4px"}),"bottom"===e&&(r={bottom:0,left:"4px",right:"4px",height:"4px"}),"left"===e&&(r={top:"4px",left:0,bottom:"4px",width:"4px"}),(0,o.jsx)("div",{className:i,onMouseDown:t=>d(t,"padding-".concat(e)),onMouseEnter:()=>p(e),onMouseLeave:()=>p(null),style:r},n)})]}):null}),y=i.memo(function(e){let{settings:t,isSelected:n,isHovered:r,type:a,id:l,resizeDirection:s,getMarginHandleStyle:c,handleMouseDown:d,linkedMarginVertical:u,linkedMarginHorizontal:g,toggleMarginLink:m}=e,[h,p]=(0,i.useState)(null),x=function(){let[,e]=(0,i.useState)(0);return(0,i.useCallback)(()=>e(e=>e+1),[])}();(0,i.useEffect)(()=>{x()},[t,x]);let b=e=>s==="margin-".concat(e)||h===e||("top"===e||"bottom"===e)&&!!u&&("margin-top"===s||"margin-bottom"===s||"top"===h||"bottom"===h)||("left"===e||"right"===e)&&!!g&&("margin-left"===s||"margin-right"===s||"left"===h||"right"===h)||!1,v="section"!==a,w=["top","right","bottom","left"];return n?(0,o.jsxs)(o.Fragment,{children:[w.map(e=>{if(("left"===e||"right"===e)&&!v)return null;let n=t["margin".concat(e.charAt(0).toUpperCase()+e.slice(1))]||0;return(0,o.jsx)("div",{className:"absolute cursor-".concat("top"===e||"bottom"===e?"ns-resize":"ew-resize"," z-10 pointer-events-auto transition-all duration-200 ").concat(b(e)?"bg-green-100/30":"bg-transparent hover:bg-green-100/20"),style:c(e),onMouseDown:t=>d(t,"margin-".concat(e)),onMouseEnter:()=>p(e),onMouseLeave:()=>p(null),children:(0,o.jsx)(f,{direction:e,value:n,isActive:b(e),isLinked:"top"===e||"bottom"===e?u:g,variant:"margin",toggleLink:m})},e)}),w.map(e=>{if(t["margin".concat(e.charAt(0).toUpperCase()+e.slice(1))]||("left"===e||"right"===e)&&!v)return null;let n="absolute hover:bg-green-100/20 hover:border border-green-500/30 cursor-"+("top"===e||"bottom"===e?"ns-resize":"ew-resize")+" z-10 pointer-events-auto",i={};return"top"===e&&(i={top:"-4px",left:0,right:0,height:"4px"}),"right"===e&&(i={top:0,right:"-4px",bottom:0,width:"4px"}),"bottom"===e&&(i={bottom:"-4px",left:0,right:0,height:"4px"}),"left"===e&&(i={top:0,left:"-4px",bottom:0,width:"4px"}),(0,o.jsx)("div",{className:n,onMouseDown:t=>d(t,"margin-".concat(e)),onMouseEnter:()=>p(e),onMouseLeave:()=>p(null),style:i},"hover-".concat(e))})]}):null});function k(e){let{element:t,isSelected:n,onSelect:c,containerInfo:d}=e,{updateElement:h,selectElement:f}=(0,r.useBuilderStore)(),{isHovered:k,setHoveredElement:C,clearHover:j}=(0,l.N)(),S=(0,i.useRef)(null),[N,M]=(0,i.useState)(!1),[I,R]=(0,i.useState)(!1),[E,T]=(0,i.useState)(!1);(0,i.useEffect)(()=>{t.settings||h(t.id,{...t,settings:{width:"100%",height:"auto",paddingTop:16,paddingRight:16,paddingBottom:16,paddingLeft:16,marginTop:0,marginRight:0,marginBottom:16,marginLeft:0}})},[t,h]);let B=e=>{e&&e.stopPropagation(),d?f(t.id,{sectionId:d.sectionId,rowId:d.rowId,columnId:d.columnId}):f(t.id),c&&c()},L=e=>{M(!0),C("element",t.id)},A=e=>{M(!1),e.relatedTarget&&S.current&&e.relatedTarget instanceof Node&&!S.current.contains(e.relatedTarget)&&j()},P="function"==typeof k&&k("element",t.id)||N,z=()=>{d&&r.useBuilderStore.getState().selectElement(t.id,{sectionId:d.sectionId,rowId:d.rowId,columnId:d.columnId}),r.useBuilderStore.getState().deleteElement(t.id)},D=()=>{d&&r.useBuilderStore.getState().selectElement(t.id,{sectionId:d.sectionId,rowId:d.rowId,columnId:d.columnId}),r.useBuilderStore.getState().duplicateElement(t.id)};(0,i.useEffect)(()=>{if(d){let e=new r.BuilderRegistry(r.useBuilderStore.getState().page.sections).getColumn(d.columnId);if(e&&e.column.elements){let n=e.column.elements,o=n.findIndex(e=>e.id===t.id);-1!==o&&(R(0===o),T(o===n.length-1))}}},[t.id,d]);let W=!(0,r.useBuilderStore)(e=>e.isPreviewMode);return"button"===t.type?(0,o.jsxs)("div",{onClick:B,onMouseEnter:L,onMouseLeave:A,className:(0,s.cn)("relative",n&&"outline outline-2 outline-purple-500",P&&!n&&"outline outline-1 outline-dashed outline-gray-400"),children:[(0,o.jsx)(a.Ay,{element:t,isEditMode:W}),(P||n)&&(0,o.jsxs)("div",{className:"absolute -top-2.5 right-1 z-30 flex items-center bg-purple-600 text-white text-xs rounded-md overflow-hidden",onClick:e=>e.stopPropagation(),children:[d&&(0,o.jsx)(p.A,{onMoveUp:()=>{d&&r.useBuilderStore.getState().reorderElement(t.id,d.sectionId,d.rowId,d.columnId,"up")},onMoveDown:()=>{d&&r.useBuilderStore.getState().reorderElement(t.id,d.sectionId,d.rowId,d.columnId,"down")},isFirst:I,isLast:E,color:"purple"}),(0,o.jsxs)(m.m_,{children:[(0,o.jsx)(m.k$,{asChild:!0,children:(0,o.jsx)("button",{className:"p-1 hover:bg-purple-700",onClick:e=>{e.stopPropagation(),D()},children:(0,o.jsx)(u.A,{className:"h-3 w-3"})})}),(0,o.jsx)(m.ZI,{children:"Duplicate"})]}),(0,o.jsxs)(m.m_,{children:[(0,o.jsx)(m.k$,{asChild:!0,children:(0,o.jsx)("button",{className:"p-1 hover:bg-red-500",onClick:e=>{e.stopPropagation(),z()},children:(0,o.jsx)(g.A,{className:"h-3 w-3"})})}),(0,o.jsx)(m.ZI,{children:"Delete"})]})]}),(P||n)&&(0,o.jsx)("div",{className:"absolute -top-2.5 left-1 z-30 bg-purple-600 text-white text-xs py-[2px] px-2 rounded-md",onClick:e=>{e.stopPropagation(),B(e)},children:t.type})]}):(0,o.jsx)(m.Bc,{children:(0,o.jsx)(b,{id:t.id,isSelected:n,onSelect:c||(()=>{}),settings:t.settings||{},updateSettings:(e,n)=>{h(t.id,{...t,settings:{...t.settings,[e]:n}})},children:e=>{let{elementRef:i,isResizing:l,resizeDirection:c,showTooltip:h,tooltipContent:f,tooltipPosition:b,getCursorStyle:C,getPaddingHandleStyle:j,getMarginHandleStyle:N,handleMouseDown:M,linkedPaddingVertical:R,linkedPaddingHorizontal:T,togglePaddingLink:H,linkedMarginVertical:O,linkedMarginHorizontal:F,toggleMarginLink:U}=e;return(0,o.jsx)("div",{className:"relative w-full",children:(0,o.jsxs)("div",{ref:e=>{e&&(i.current=e,S.current=e)},className:(0,s.cn)("relative transition-all duration-200 box-border w-full",n&&"outline outline-2 outline-purple-500 pointer-events-auto",P&&!n&&"outline outline-1 outline-dashed outline-gray-400 pointer-events-auto",!n&&!P&&"pointer-events-auto"),style:{...(0,x.af)(t.settings,t.type),cursor:C(),...["heading","text","quote"].includes(t.type)&&{width:"100%",display:"block"}},onMouseEnter:L,onMouseLeave:A,onClick:B,draggable:!0,onDragStart:e=>{e.dataTransfer.setData("elementId",t.id)},children:[(P||n)&&(0,o.jsx)("div",{className:"absolute -top-2.5 left-1 z-30 bg-purple-600 text-white text-xs py-[2px] px-2 rounded-md",onClick:e=>{e.stopPropagation(),B(e)},children:t.type}),(P||n)&&(0,o.jsxs)("div",{className:"absolute -top-2.5 right-1 z-30 flex items-center bg-purple-600 text-white text-xs rounded-md overflow-hidden",onClick:e=>e.stopPropagation(),children:[d&&(0,o.jsx)(p.A,{onMoveUp:()=>{d&&r.useBuilderStore.getState().reorderElement(t.id,d.sectionId,d.rowId,d.columnId,"up")},onMoveDown:()=>{d&&r.useBuilderStore.getState().reorderElement(t.id,d.sectionId,d.rowId,d.columnId,"down")},isFirst:I,isLast:E,color:"purple"}),(0,o.jsxs)(m.m_,{children:[(0,o.jsx)(m.k$,{asChild:!0,children:(0,o.jsx)("button",{className:"p-1 hover:bg-purple-700",onClick:e=>{e.stopPropagation(),D()},children:(0,o.jsx)(u.A,{className:"h-3 w-3"})})}),(0,o.jsx)(m.ZI,{children:"Duplicate"})]}),(0,o.jsxs)(m.m_,{children:[(0,o.jsx)(m.k$,{asChild:!0,children:(0,o.jsx)("button",{className:"p-1 hover:bg-red-500",onClick:e=>{e.stopPropagation(),z()},children:(0,o.jsx)(g.A,{className:"h-3 w-3"})})}),(0,o.jsx)(m.ZI,{children:"Delete"})]})]}),(0,o.jsx)("div",{className:"relative w-full h-full",children:(0,o.jsx)(a.Ay,{element:t,isEditMode:W})}),n&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(v,{direction:"top",onMouseDown:M}),(0,o.jsx)(v,{direction:"right",onMouseDown:M}),(0,o.jsx)(v,{direction:"bottom",onMouseDown:M}),(0,o.jsx)(v,{direction:"left",onMouseDown:M}),(0,o.jsx)(w,{settings:t.settings||{},isSelected:n,isHovered:k,type:"element",id:t.id,resizeDirection:c,getPaddingHandleStyle:j,handleMouseDown:M,linkedPaddingVertical:R,linkedPaddingHorizontal:T,togglePaddingLink:H}),(0,o.jsx)(y,{settings:t.settings||{},isSelected:n,isHovered:k,type:"element",id:t.id,resizeDirection:c,getMarginHandleStyle:N,handleMouseDown:M,linkedMarginVertical:O,linkedMarginHorizontal:F,toggleMarginLink:U})]}),h&&c&&(0,o.jsx)(m.m_,{open:!0,children:(0,o.jsx)(m.ZI,{side:"top",className:"bg-gray-900 text-white px-3 py-2 rounded text-sm z-50 pointer-events-none shadow-md",style:{position:"fixed",left:b.x+10,top:b.y+10},children:f})})]})})}})})}function C(e){let{type:t,id:n,sectionId:r,rowId:a,isSelected:c,onSelect:d,onDelete:u,onAdd:p,addButtonPosition:f="bottom",color:v,label:k,children:C,style:j,className:S,settings:N={},updateSettings:M,addButtonLabel:I,extraControls:R}=e,{isHovered:E,setHoveredElement:T,clearHover:B}=(0,l.N)(),L=(0,i.useRef)(null),[A,P]=(0,i.useState)(!1),z="column"===t?"green":v,D="function"==typeof E&&E(t,n)||A,W=(0,x.TT)(z),H=e=>{P(!0),T(t,n)},O=e=>{P(!1),e.relatedTarget&&L.current&&e.relatedTarget instanceof Node&&!L.current.contains(e.relatedTarget)&&B()},F=e=>{e.stopPropagation(),d(e)},U=I||(0,x.Rn)(t),Y=()=>p?(0,o.jsx)(h.A,{position:f,color:z,onClick:e=>{e.stopPropagation(),p(e)},isVisible:c,size:"sm",label:U}):null;return(0,o.jsx)(m.Bc,{children:(0,o.jsx)(b,{id:n,isSelected:c,onSelect:d,settings:N,updateSettings:M,isStructure:!0,structureType:t,children:e=>{let{elementRef:i,isResizing:r,resizeDirection:a,showTooltip:l,tooltipContent:h,tooltipPosition:p,getCursorStyle:f,getPaddingHandleStyle:b,getMarginHandleStyle:v,handleMouseDown:M,linkedPaddingVertical:I,linkedPaddingHorizontal:T,togglePaddingLink:B,linkedMarginVertical:A,linkedMarginHorizontal:P,toggleMarginLink:z}=e;return(0,o.jsxs)("div",{ref:i,className:"relative",style:{cursor:f(),marginTop:N.marginTop?"".concat(N.marginTop,"px"):void 0,marginRight:N.marginRight?"".concat(N.marginRight,"px"):void 0,marginBottom:N.marginBottom?"".concat(N.marginBottom,"px"):void 0,marginLeft:N.marginLeft?"".concat(N.marginLeft,"px"):void 0},children:[(0,o.jsxs)("div",{ref:L,className:(0,s.cn)("relative transition-all duration-200 box-border","section"===t&&!N.backgroundColor&&"bg-white","section"===t&&!N.backgroundColor&&"dark:bg-zinc-900",c&&"outline outline-2 ".concat(W.outline),D&&!c&&"outline outline-1 outline-dashed outline-zinc-400",S),style:{...j,...(0,x.PF)(N,t),paddingTop:N.paddingTop?"".concat(N.paddingTop,"px"):void 0,paddingRight:N.paddingRight?"".concat(N.paddingRight,"px"):void 0,paddingBottom:N.paddingBottom?"".concat(N.paddingBottom,"px"):void 0,paddingLeft:N.paddingLeft?"".concat(N.paddingLeft,"px"):void 0,marginTop:void 0,marginRight:void 0,marginBottom:void 0,marginLeft:void 0,backgroundColor:N.backgroundColor?N.backgroundColor:void 0},onMouseEnter:H,onMouseLeave:O,onClick:F,children:[(D||c)&&(0,o.jsx)("div",{className:(0,s.cn)("absolute -top-2.5 left-1 z-20",W.bg,"text-white text-xs py-[2px] px-2 rounded-md"),onClick:e=>{e.stopPropagation(),d(e)},children:k}),(D||c)&&(0,o.jsxs)("div",{className:(0,s.cn)("absolute -top-2.5 right-1 z-20 flex items-center",W.bg,"text-white text-xs rounded-md overflow-hidden"),onClick:e=>e.stopPropagation(),children:[R,u&&(0,o.jsxs)(m.m_,{children:[(0,o.jsx)(m.k$,{asChild:!0,children:(0,o.jsx)("button",{className:"p-1 hover:bg-red-500",onClick:e=>{e.stopPropagation(),u()},children:(0,o.jsx)(g.A,{className:"h-3 w-3"})})}),(0,o.jsx)(m.ZI,{children:"Delete"})]})]}),C]}),Y(),(0,o.jsx)(w,{settings:N,isSelected:c,isHovered:E,type:t,id:n,resizeDirection:a,getPaddingHandleStyle:b,handleMouseDown:M,linkedPaddingVertical:I,linkedPaddingHorizontal:T,togglePaddingLink:B}),(0,o.jsx)(y,{settings:N,isSelected:c,isHovered:E,type:t,id:n,resizeDirection:a,getMarginHandleStyle:v,handleMouseDown:M,linkedMarginVertical:A,linkedMarginHorizontal:P,toggleMarginLink:z}),l&&a&&(0,o.jsx)(m.m_,{open:!0,children:(0,o.jsx)(m.ZI,{side:"top",className:"bg-zinc-900 text-white px-3 py-2 rounded text-sm z-50 pointer-events-none shadow-md",style:{position:"fixed",left:p.x+10,top:p.y+10},children:h})})]})}})})}}}]);