"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[38341],{1780:(e,t,r)=>{r.d(t,{Tabs:()=>l,TabsContent:()=>d,TabsList:()=>o,TabsTrigger:()=>c});var a=r(31768),i=r(27252),n=r(68158),s=r(58799);let l=n.bL,o=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)(n.B8,{ref:t,className:(0,s.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...i})});o.displayName=n.B8.displayName;let c=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)(n.l9,{ref:t,className:(0,s.cn)("inline-flex cursor-pointer items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...i})});c.displayName=n.l9.displayName;let d=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)(n.UC,{ref:t,className:(0,s.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...i})});d.displayName=n.UC.displayName},6904:(e,t,r)=>{r.d(t,{O:()=>u});var a=r(31768),i=r(41258),n=r(27252),s=r(97400),l=r(1552),o=r(61579),c=r(97674),d=r(14372);function u(e){let{isMobile:t=!1}=e,r=(0,d.useTranslations)("components/auth/auth-header-controls"),u=function(){let[e,t]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get("return");e&&t(e)},[]),e}(),m=(0,s.k)(e=>e.user),[x,h]=(0,n.useState)(!1),[f,p]=(0,n.useState)("login"),g=(0,i.U)("(max-width: 768px)"),[,b]=(0,n.useReducer)(e=>e+1,0);(0,n.useEffect)(()=>{let e=s.k.subscribe(()=>b());return()=>e()},[]);let v=()=>{p("login"),h(!0)},j=()=>{p("register"),h(!0)};return(0,a.jsxs)(a.Fragment,{children:[m?(0,a.jsx)(c.A,{}):t||g?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(l.$,{variant:"outline",size:"sm",className:"px-3 py-1.5 text-xs font-medium min-w-0 flex-shrink-0",onClick:v,children:[(0,a.jsx)("span",{className:"hidden xs:inline",children:r("log_in")}),(0,a.jsx)("span",{className:"xs:hidden",children:"Login"})]}),(0,a.jsxs)(l.$,{size:"sm",className:"px-3 py-1.5 text-xs font-medium min-w-0 flex-shrink-0",onClick:j,children:[(0,a.jsx)("span",{className:"hidden xs:inline",children:r("sign_up")}),(0,a.jsx)("span",{className:"xs:hidden",children:"Sign Up"})]})]}):(0,a.jsxs)("div",{className:"hidden md:flex items-center space-x-2",children:[(0,a.jsx)(l.$,{variant:"ghost",onClick:v,children:r("log_in")}),(0,a.jsx)(l.$,{onClick:j,children:r("sign_up")})]}),(0,a.jsx)(o.U,{isOpen:x,onClose:()=>h(!1),initialView:f,onViewChange:e=>p(e),returnTo:u})]})}},27319:(e,t,r)=>{r.d(t,{AM:()=>s,Wv:()=>l,hl:()=>o});var a=r(31768);r(27252);var i=r(91590),n=r(58799);function s(e){let{...t}=e;return(0,a.jsx)(i.bL,{"data-slot":"popover",...t})}function l(e){let{...t}=e;return(0,a.jsx)(i.l9,{"data-slot":"popover-trigger",...t})}function o(e){let{className:t,align:r="center",sideOffset:s=4,...l}=e;return(0,a.jsx)(i.ZL,{children:(0,a.jsx)(i.UC,{"data-slot":"popover-content",align:r,sideOffset:s,className:(0,n.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 rounded-md border p-4 shadow-md outline-hidden",t),...l})})}},44211:(e,t,r)=>{r.d(t,{r:()=>k});var a=r(31768),i=r(27252),n=r(86840),s=r(69287),l=r(83202),o=r(43982),c=r(776),d=r(13785),u=r(66607),m=r(1009),x=r(58799),h=r(1552),f=r(90833),p=r(27),g=r(27319),b=r(82415),v=r(98651),j=r(47779),y=r(14372);let N=e=>{switch(e){case"investment":return"\uD83D\uDCB0";case"message":return"\uD83D\uDCAC";case"user":return"\uD83D\uDC64";case"alert":return"⚠️";case"system":return"⚙️";default:return"\uD83D\uDD14"}},w=e=>{switch(e){case"investment":return"bg-green-500";case"message":default:return"bg-blue-500";case"user":return"bg-purple-500";case"alert":return"bg-red-500";case"system":return"bg-gray-500"}};function k(){let e=(0,y.useTranslations)("components/partials/header/notification-bell"),{notifications:t,stats:r,isLoading:k,fetchNotifications:A,markAsRead:z,markAllAsRead:C,deleteNotification:M,soundEnabled:I,toggleSound:E}=(0,j.t)(),[T,L]=(0,i.useState)(!1),[S,_]=(0,i.useState)(!1);(0,i.useEffect)(()=>{A()},[A]),(0,i.useEffect)(()=>{if(r.unread>0){_(!0);let e=setTimeout(()=>_(!1),2e3);return()=>clearTimeout(e)}},[r.unread]);let P=t.slice(0,5),F=async e=>{e.read||await z(e.id),e.link&&window.open(e.link,"_blank")},O=async()=>{await C()};return(0,a.jsxs)(g.AM,{open:T,onOpenChange:L,children:[(0,a.jsx)(g.Wv,{asChild:!0,children:(0,a.jsxs)(h.$,{variant:"ghost",size:"icon",className:"relative p-2 rounded-full transition-all duration-200 hover:bg-zinc-100 dark:hover:bg-zinc-800",children:[(0,a.jsx)(n.P.div,{animate:S?{rotate:[0,-10,10,-10,0],scale:[1,1.1,1]}:{},transition:{duration:.5},children:(0,a.jsx)(l.A,{className:"h-5 w-5 text-zinc-600 dark:text-zinc-400"})}),(0,a.jsx)(s.N,{children:r.unread>0&&(0,a.jsx)(n.P.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},className:"absolute -top-1 -right-1",children:(0,a.jsx)(f.E,{variant:"destructive",className:"h-5 w-5 p-0 flex items-center justify-center text-xs font-bold rounded-full bg-red-500 text-white border-2 border-white dark:border-zinc-900",children:r.unread>99?"99+":r.unread})})})]})}),(0,a.jsx)(g.hl,{className:"w-80 p-0 shadow-xl border-0 bg-white dark:bg-zinc-900",align:"end",sideOffset:8,style:{zIndex:100},children:(0,a.jsxs)(n.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.2},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-zinc-200 dark:border-zinc-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg",children:e("Notifications")}),r.unread>0&&(0,a.jsxs)(f.E,{variant:"secondary",className:"text-xs",children:[r.unread," ",e("new")]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(h.$,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:E,title:I?"Disable sound":"Enable sound",children:I?(0,a.jsx)(o.A,{className:"h-4 w-4"}):(0,a.jsx)(c.A,{className:"h-4 w-4"})}),r.unread>0&&(0,a.jsx)(h.$,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:O,title:"Mark all as read",children:(0,a.jsx)(d.A,{className:"h-4 w-4"})})]})]}),(0,a.jsx)(p.F,{className:"h-80",children:k?(0,a.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,a.jsx)(n.P.div,{animate:{rotate:360},transition:{duration:1,repeat:Number.POSITIVE_INFINITY,ease:"linear"},className:"w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full"})}):0===P.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-32 text-zinc-500 dark:text-zinc-400",children:[(0,a.jsx)(l.A,{className:"h-8 w-8 mb-2 opacity-50"}),(0,a.jsx)("p",{className:"text-sm",children:e("no_notifications_yet")})]}):(0,a.jsx)("div",{className:"p-2",children:P.map((e,t)=>(0,a.jsx)(n.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t},className:(0,x.cn)("group relative p-3 rounded-lg mb-2 cursor-pointer transition-all duration-200 hover:bg-zinc-50 dark:hover:bg-zinc-800",!e.read&&"bg-blue-50 dark:bg-blue-950/20 border-l-4 border-blue-500"),onClick:()=>F(e),children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:(0,x.cn)("flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-white text-sm",w(e.type)),children:N(e.type)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,a.jsx)("h4",{className:(0,x.cn)("text-sm font-medium truncate",!e.read&&"font-semibold"),children:e.title}),(0,a.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.link&&(0,a.jsx)(u.A,{className:"h-3 w-3 text-zinc-400"}),(0,a.jsx)(h.$,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:t=>{t.stopPropagation(),M(e.id)},children:(0,a.jsx)(m.A,{className:"h-3 w-3"})})]})]}),(0,a.jsx)("p",{className:"text-xs text-zinc-600 dark:text-zinc-400 mt-1 line-clamp-2",children:e.message}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,a.jsx)("span",{className:"text-xs text-zinc-500",children:e.createdAt&&(0,v.m)(new Date(e.createdAt),{addSuffix:!0})}),!e.read&&(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})]})]})},e.id))})}),(0,a.jsx)("div",{className:"p-3 border-t border-zinc-200 dark:border-zinc-700",children:(0,a.jsx)(b.N_,{href:"/user/notification",children:(0,a.jsxs)(h.$,{variant:"outline",className:"w-full justify-center gap-2 hover:bg-zinc-50 dark:hover:bg-zinc-800",onClick:()=>L(!1),children:[e("view_all_notifications"),(0,a.jsx)(u.A,{className:"h-4 w-4"})]})})})]})})]})}},45121:(e,t,r)=>{r.d(t,{pu:()=>a});let a="Bicrypto"},47779:(e,t,r)=>{r.d(t,{t:()=>s});var a=r(21207),i=r(8142);let n=e=>{let t=Array.isArray(e)?e:[],r=t.length,a=t.filter(e=>!e.read).length,i=t.reduce((e,t)=>(t.type in e&&(e[t.type]+=1),e),{investment:0,message:0,alert:0,system:0,user:0});return{total:r,unread:a,types:{investment:i.investment,message:i.message,alert:i.alert,system:i.system,user:i.user},trend:{percentage:0,increasing:!0}}},s=(0,a.v)()((e,t)=>({notifications:[],isLoading:!1,error:null,stats:{total:0,unread:0,types:{investment:0,message:0,alert:0,system:0,user:0},trend:{percentage:0,increasing:!0}},lastFetched:null,cacheExpiry:3e5,fetchNotifications:async()=>{let r=Date.now(),{lastFetched:a,cacheExpiry:s,notifications:l}=t();if(!a||!(r-a<s)||!(l.length>0))try{e({isLoading:!0,error:null});let{data:t,error:r}=await (0,i.xq)({url:"/api/user/notification",silent:!0});if(!r&&t){let r=(Array.isArray(t.notifications)?t.notifications:Array.isArray(t)?t:[]).map(e=>{let t=e.actions;if("string"==typeof t)try{t=JSON.parse(t)}catch(e){console.error("Error parsing notification actions:",e),t=[]}return{...e,actions:t,title:e.title||""}});e({notifications:r,stats:n(r),lastFetched:Date.now(),isLoading:!1})}else e({isLoading:!1,error:r||"Failed to fetch notifications"})}catch(t){console.error("Error fetching notifications:",t),e({isLoading:!1,error:t instanceof Error?t.message:"Failed to fetch notifications",notifications:[]})}},markAsRead:async r=>{try{let{error:a}=await (0,i.xq)({url:"/api/user/notification/".concat(r,"/read"),method:"POST",silent:!0});if(a)console.error("Error marking notification as read:",a);else{let{notifications:a}=t(),i=(Array.isArray(a)?a:[]).map(e=>e.id===r?{...e,read:!0}:e);e({notifications:i,stats:n(i)})}}catch(e){console.error("Error marking notification as read:",e)}},markAsUnread:async r=>{try{let{error:a}=await (0,i.xq)({url:"/api/user/notification/".concat(r,"/unread"),method:"POST",silent:!0});if(a)console.error("Error marking notification as unread:",a);else{let{notifications:a}=t(),i=(Array.isArray(a)?a:[]).map(e=>e.id===r?{...e,read:!1}:e);e({notifications:i,stats:n(i)})}}catch(e){console.error("Error marking notification as unread:",e)}},markAllAsRead:async()=>{try{let{error:r}=await (0,i.xq)({url:"/api/user/notification/mark-all-read",method:"POST",silent:!0});if(r)console.error("Error marking all notifications as read:",r);else{let{notifications:r}=t(),a=(Array.isArray(r)?r:[]).map(e=>({...e,read:!0}));e({notifications:a,stats:{...t().stats,unread:0}})}}catch(e){console.error("Error marking all notifications as read:",e)}},deleteNotification:async r=>{try{let{error:a}=await (0,i.xq)({url:"/api/user/notification/".concat(r),method:"DELETE",silent:!0});if(a)console.error("Error deleting notification:",a);else{let{notifications:a}=t(),i=(Array.isArray(a)?a:[]).filter(e=>e.id!==r);e({notifications:i,stats:n(i)})}}catch(e){console.error("Error deleting notification:",e)}},deleteAllNotifications:async()=>{try{let{error:t}=await (0,i.xq)({url:"/api/user/notification",method:"DELETE",silent:!0});t?console.error("Error deleting all notifications:",t):e({notifications:[],stats:{total:0,unread:0,types:{investment:0,message:0,alert:0,system:0,user:0},trend:{percentage:0,increasing:!0}}})}catch(e){console.error("Error deleting all notifications:",e)}},filterNotifications:e=>{let{notifications:r}=t();return(Array.isArray(r)?r:[]).filter(t=>e.includes(t.type))},searchNotifications:e=>{let{notifications:r}=t(),a=Array.isArray(r)?r:[],i=e.toLowerCase();return a.filter(e=>e.message.toLowerCase().includes(i)||e.details&&e.details.toLowerCase().includes(i))},handleNotificationMessage:r=>{let{notifications:a}=t(),i=Array.isArray(a)?a:[],s=i;if("create"===r.method)s=[r.payload,...i];else if("update"===r.method)s=i.map(e=>e.id===r.payload.id?{...e,...r.payload}:e);else if("delete"===r.method){let e="object"==typeof r.payload?r.payload.id:r.payload;s=i.filter(t=>t.id!==e)}e({notifications:s,stats:n(s)})},soundEnabled:!1,toggleSound:()=>{e({soundEnabled:!t().soundEnabled})}}))},65368:(e,t,r)=>{r.d(t,{A:()=>U});var a=r(31768),i=r(27252),n=r(58799),s=r(89488),l=r(97400),o=r(82415),c=r(15062),d=r(92943),u=r(45121);let m=e=>{let{hovered:t,isMobile:r=!1}=e,{collapsed:i}=(0,s.c)();return(0,a.jsx)("div",{className:"px-4 py-4",children:(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsxs)("div",{className:"flex flex-1 items-center gap-x-3",children:[(0,a.jsx)(d.h,{className:"h-8 w-8 text-primary"}),(!i||t)&&(0,a.jsx)("div",{className:"flex-1 text-xl text-primary font-semibold",children:u.pu})]})})})};var x=r(27),h=r(29081);function f(e){let{...t}=e;return(0,a.jsx)(h.bL,{"data-slot":"collapsible",...t})}function p(e){let{...t}=e;return(0,a.jsx)(h.Ke,{"data-slot":"collapsible-content",...t})}var g=r(56881);let b=e=>{let{subItem:t,subIndex:r,activeMultiMenu:i,toggleMultiMenu:s,className:l}=e;return(0,a.jsxs)("div",{onClick:()=>s(r),className:(0,n.cn)("text-sm flex gap-3 rounded items-center transition-all duration-150 cursor-pointer relative before:absolute before:top-0 before:-left-5 before:w-[3px] before:h-0 before:transition-all before:duration-200",l,{"text-primary before:bg-primary before:h-full":i===r,"text-muted-foreground hover:text-primary":i!==r}),children:[(0,a.jsx)("span",{className:"flex-1",children:t.title}),(0,a.jsx)("div",{className:"flex-none",children:(0,a.jsx)("span",{className:(0,n.cn)("transform transition-all duration-300",{"rotate-90":i===r}),children:(0,a.jsx)(g.Icon,{icon:"heroicons:chevron-right-20-solid",className:"h-5 w-5"})})})]})};var v=r(41258);let j=e=>{var t;let{subItem:r,subIndex:i,activeMultiMenu:l,isItemActive:c}=e,{setMobileMenu:d}=(0,s.c)(),u=(0,v.U)("(max-width: 1279px)"),m=()=>{u&&d(!1)};return(0,a.jsx)(f,{open:l===i,children:(0,a.jsx)(p,{className:"CollapsibleContent",children:(0,a.jsx)("ul",{className:"space-y-3 pl-1",children:null==r||null==(t=r.child)?void 0:t.map((e,t)=>{let r=c(t);return(0,a.jsx)("li",{className:"first:pt-3",children:(0,a.jsx)(o.N_,{href:e.href,onClick:m,children:(0,a.jsxs)("span",{className:(0,n.cn)("text-sm flex gap-3 items-center transition-all duration-150 capitalize hover:text-primary",{"text-primary":r,"text-muted-foreground":!r}),children:[(0,a.jsx)("span",{className:(0,n.cn)("inline-flex h-2 w-2 border rounded-full",{"bg-primary ring-primary/30 ring-[4px] border-primary":r,"border-gray-300":!r})}),(0,a.jsx)("span",{className:"flex-1",children:e.title})]})})},t)})})})})};var y=r(90833);function N(e){let{href:t,children:r,subItem:i}=e,{setMobileMenu:n}=(0,s.c)(),l=(0,v.U)("(max-width: 1279px)");return i.badge?(0,a.jsxs)("div",{className:"text-sm flex space-x-3 items-center transition-all duration-150 opacity-50 cursor-not-allowed",children:[(0,a.jsx)("span",{className:"h-2 w-2 rounded-full border border-muted-foreground inline-block flex-none"}),(0,a.jsxs)("div",{className:"flex-1 truncate flex text-muted-foreground",children:[(0,a.jsx)("div",{className:"flex-1 truncate",children:i.title}),(0,a.jsx)(y.E,{className:"leading-0 capitalize flex-none px-1 text-xs font-normal",children:i.badge})]})]}):(0,a.jsx)(o.N_,{href:t,onClick:()=>{l&&n(!1)},children:r})}let w=e=>{let{subItem:t,isActive:r=!1}=e;return(0,a.jsx)(N,{href:t.href,subItem:t,children:(0,a.jsx)("div",{className:(0,n.cn)("text-sm capitalize font-normal flex gap-3 items-center transition-all duration-150 rounded dark:hover:text-primary",{"text-primary":r,"text-muted-foreground":!r}),children:(0,a.jsx)("span",{className:"flex-1 truncate",children:t.title})})})},k=e=>{var t;let{activeSubmenu:r,item:i,index:s,activeMultiMenu:l,toggleMultiMenu:o,isItemActive:c}=e;return(0,a.jsx)(f,{open:r===s,children:(0,a.jsx)(p,{className:"CollapsibleContent",children:(0,a.jsx)("ul",{className:"sub-menu space-y-4 relative before:absolute before:left-4 before:top-0 before:h-[calc(100%-5px)] before:w-[3px] before:bg-primary/10 before:rounded",children:null==(t=i.child)?void 0:t.map((e,t)=>{let r=c(s,t);return(0,a.jsx)("li",{className:(0,n.cn)("block pl-9 first:pt-4 last:pb-4 relative before:absolute first:before:top-4 before:top-0 before:left-4 before:w-[3px]",{"before:bg-primary first:before:h-[calc(100%-16px)] before:h-full":r}),children:(null==e?void 0:e.child)?(0,a.jsxs)("div",{children:[(0,a.jsx)(b,{subItem:e,subIndex:t,activeMultiMenu:l,toggleMultiMenu:o}),(0,a.jsx)(j,{subItem:e,subIndex:t,activeMultiMenu:l,isItemActive:e=>c(s,t,e)})]}):(0,a.jsx)(w,{subItem:e,isActive:r})},"sub_menu_".concat(t))})})})})},A=e=>{let{item:t,className:r}=e,{title:i}=t;return(0,a.jsx)("div",{className:(0,n.cn)("text-foreground font-semibold uppercase mb-3 text-xs mt-4",r),children:i})},z=e=>{let{item:t,collapsed:r,hovered:i,isActive:l}=e,{badge:c,href:d,title:u,icon:m}=t,{setMobileMenu:x}=(0,s.c)(),h=(0,v.U)("(max-width: 1279px)");return(0,a.jsx)(o.N_,{href:d,onClick:()=>{h&&x(!1)},children:(0,a.jsx)(a.Fragment,{children:!r||i?(0,a.jsxs)("div",{className:(0,n.cn)("flex gap-3 group text-foreground dark:text-foreground font-medium text-sm capitalize px-[10px] py-3 rounded cursor-pointer hover:bg-primary hover:text-primary-foreground dark:hover:text-black",{"bg-primary text-primary-foreground dark:bg-primary dark:text-black":l}),children:[(0,a.jsx)("span",{className:"grow-0",children:m?(0,a.jsx)(g.Icon,{icon:m,className:"w-5 h-5"}):(0,a.jsx)(g.Icon,{icon:"solar:document-line-duotone",className:"w-5 h-5"})}),(0,a.jsx)("div",{className:"text-box grow",children:u}),c&&(0,a.jsx)(y.E,{className:"rounded",children:c})]}):(0,a.jsx)("div",{children:(0,a.jsx)("span",{className:(0,n.cn)("h-12 w-12 mx-auto rounded-md transition-all duration-300 inline-flex flex-col items-center justify-center relative",{"bg-primary text-primary-foreground dark:bg-primary dark:text-black":l,"text-muted-foreground":!l}),children:m?(0,a.jsx)(g.Icon,{icon:m,className:"w-6 h-6"}):(0,a.jsx)(g.Icon,{icon:"solar:document-line-duotone",className:"w-6 h-6"})})})})})},C=e=>{let{item:t,toggleSubmenu:r,index:i,activeSubmenu:s,collapsed:l,hovered:o,isActive:c}=e,{title:d,icon:u}=t;return(0,a.jsx)(a.Fragment,{children:!l||o?(0,a.jsxs)("div",{onClick:()=>r(i),className:(0,n.cn)("flex text-foreground group font-medium text-sm capitalize px-[10px] py-3 rounded cursor-pointer transition-all duration-100 hover:bg-primary hover:text-primary-foreground dark:hover:text-black",{"bg-primary text-primary-foreground dark:bg-primary dark:text-black":s===i||c}),children:[(0,a.jsxs)("div",{className:"flex-1 gap-3 flex items-start",children:[(0,a.jsx)("span",{className:"inline-flex items-center",children:u?(0,a.jsx)(g.Icon,{icon:u,className:"w-5 h-5"}):(0,a.jsx)(g.Icon,{icon:"solar:folder-line-duotone",className:"w-5 h-5"})}),(0,a.jsx)("div",{children:d})]}),(0,a.jsx)("div",{className:"flex-0",children:(0,a.jsx)("div",{className:(0,n.cn)("text-base rounded-full flex justify-center items-center transition-all duration-300 group-hover:text-primary-foreground dark:group-hover:text-black",{"rotate-90":s===i,"text-muted-foreground":s!==i}),children:(0,a.jsx)(g.Icon,{icon:"heroicons:chevron-right-20-solid",className:"h-5 w-5"})})})]}):(0,a.jsx)("div",{className:(0,n.cn)("inline-flex cursor-pointer items-center justify-center w-12 h-12 rounded-md",{"bg-primary text-primary-foreground dark:bg-primary dark:text-black":s===i||c}),children:u?(0,a.jsx)(g.Icon,{icon:u,className:"w-6 h-6"}):(0,a.jsx)(g.Icon,{icon:"solar:folder-line-duotone",className:"w-6 h-6"})})})},M=e=>{let{sideMenu:t,collapsed:r=!1,hovered:s=!1,isRtl:l=!1,className:c,showLabels:d=!0}=e,{activeSubmenu:u,activeMultiMenu:m,toggleSubmenu:x,toggleMultiMenu:h,isItemActive:f}=function(e){let{sideMenu:t}=e,[r,a]=(0,i.useState)(null),[s,l]=(0,i.useState)(null),[c,d]=(0,i.useState)({parentIndex:null,childIndex:null,grandChildIndex:null}),u=(0,o.a8)(),m=(0,n.bO)(u);return(0,i.useEffect)(()=>{if(!t||0===t.length)return;let e=null,r=null,i={parentIndex:null,childIndex:null,grandChildIndex:null};t.forEach((t,a)=>{t.child&&t.child.length>0?t.child.forEach((t,s)=>{t.href&&(0,n.zw)(t.href,m)&&(e=a,i={parentIndex:a,childIndex:s,grandChildIndex:null}),t.child&&t.child.length>0&&t.child.forEach((t,l)=>{t.href&&(0,n.zw)(t.href,m)&&(e=a,r=s,i={parentIndex:a,childIndex:s,grandChildIndex:l})})}):t.href&&(0,n.zw)(t.href,m)&&(e=null,r=null,i={parentIndex:a,childIndex:null,grandChildIndex:null})}),a(e),l(r),d(i)},[m,t]),{activeSubmenu:r,activeMultiMenu:s,locationName:m,toggleSubmenu:e=>{a(t=>t===e?null:e)},toggleMultiMenu:e=>{l(t=>t===e?null:e)},isItemActive:(0,i.useCallback)((e,t,r)=>e===c.parentIndex&&(void 0===t||t===c.childIndex)&&(void 0===r||r===c.grandChildIndex),[c])}}({sideMenu:t});return t&&0!==t.length?(0,a.jsx)("ul",{dir:l?"rtl":"ltr",className:(0,n.cn)("space-y-1",{"text-center":r,"text-start":r&&s},c),children:t.map((e,t)=>{let i=e.child&&e.child.length>0,n=f(t);return(0,a.jsxs)("li",{children:[!i&&!e.isHeader&&(0,a.jsx)(z,{item:e,collapsed:r,hovered:s,isActive:n}),e.isHeader&&!i&&d&&(!r||s)&&(0,a.jsx)(A,{item:e}),i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C,{item:e,toggleSubmenu:x,index:t,activeSubmenu:u,collapsed:r,hovered:s,isActive:n}),(!r||s)&&(0,a.jsx)(k,{toggleMultiMenu:h,activeMultiMenu:m,activeSubmenu:u,item:e,index:t,isItemActive:f})]})]},"menu_key_".concat(t))})}):null};var I=r(34292),E=r(69287),T=r(86840),L=r(78263),S=r(29906),_=r(68583),P=r(44211),F=r(67711),O=r(1552);let U=e=>{let{className:t,menu:r="user"}=e,{mobileMenu:d,setMobileMenu:u}=(0,s.c)(),{collapsed:h}=(0,s.c)(),{isRtl:f}=(0,s.C)(),{user:p}=(0,l.k)();(0,o.a8)();let{theme:g,setTheme:b,resolvedTheme:j}=(0,_.D)(),{settings:y,extensions:N,settingsFetched:w}=(0,I.t)(),k=(0,v.U)("(min-width: 1280px)"),A="dark"===j,z=e=>e.map(e=>({...e,permission:void 0!==e.permission?Array.isArray(e.permission)?e.permission:[e.permission]:void 0,href:"string"==typeof e.href?e.href:"#",child:e.child?z(e.child):e.child,megaMenu:e.megaMenu?z(e.megaMenu):e.megaMenu})),C=e=>e?e.map(e=>{if(e.megaMenu&&e.megaMenu.length>0){let t=[];for(let r of e.megaMenu)r.child&&r.child.length>0&&t.push(...r.child);return t.sort((e,t)=>{var r,a;let i=(null==(r=e.title)?void 0:r.toLowerCase())||"",n=(null==(a=t.title)?void 0:a.toLowerCase())||"";return i.localeCompare(n)}),{...e,child:t,megaMenu:void 0}}return e}):[],U=i.useMemo(()=>{let e;return w?C(z("string"==typeof r?(0,c.yy)({user:p,settings:y,extensions:N,activeMenuType:r}):Array.isArray(r)?r:[])):[]},[r,p,y,N,w]);return k?null:w&&U&&0!==U.length?(0,a.jsx)(E.N,{mode:"wait",children:d&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(T.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>u(!1),className:"overlay bg-black/60 backdrop-filter backdrop-blur-xs fixed inset-0 z-[60]"}),(0,a.jsx)(T.P.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",bounce:.2,duration:.6},className:(0,n.cn)("fixed top-0 bg-card h-full w-[280px] z-[61]",t),children:(0,a.jsxs)("div",{className:"flex flex-col h-full min-h-0",children:[(0,a.jsx)(m,{hovered:h,isMobile:!0}),(0,a.jsx)(x.F,{className:"flex-1 min-h-0 sidebar-menu px-4",children:(0,a.jsx)(M,{sideMenu:U,collapsed:!1,hovered:!1,isRtl:f,showLabels:!0})}),(0,a.jsx)("div",{className:"border-t border-border p-4 space-y-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsx)(F.A,{variant:"compact"}),(0,a.jsx)(P.r,{}),(0,a.jsx)(O.$,{variant:"ghost",size:"icon",className:(0,n.cn)("rounded-full",A?"text-zinc-400 hover:text-zinc-100 hover:bg-zinc-800":"text-zinc-600 hover:text-zinc-900 hover:bg-zinc-100"),onClick:()=>b("dark"===g?"light":"dark"),children:(0,a.jsx)(E.N,{mode:"wait",children:A?(0,a.jsx)(T.P.div,{initial:{opacity:0,rotate:-90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:90},transition:{duration:.2},children:(0,a.jsx)(L.A,{className:"h-5 w-5"})},"sun"):(0,a.jsx)(T.P.div,{initial:{opacity:0,rotate:90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:-90},transition:{duration:.2},children:(0,a.jsx)(S.A,{className:"h-5 w-5"})},"moon")})})]})})]})})]})}):(0,a.jsx)(E.N,{mode:"wait",children:d&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(T.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>u(!1),className:"overlay bg-black/60 backdrop-filter backdrop-blur-xs fixed inset-0 z-[60]"}),(0,a.jsx)(T.P.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",bounce:.2,duration:.6},className:(0,n.cn)("fixed top-0 bg-card h-full w-[280px] z-[61]",t),children:(0,a.jsxs)("div",{className:"flex flex-col h-full min-h-0",children:[(0,a.jsx)(m,{hovered:h,isMobile:!0}),(0,a.jsx)("div",{className:"flex-1 min-h-0 flex items-center justify-center p-4",children:(0,a.jsx)("div",{className:"text-center text-muted-foreground",children:w?(0,a.jsx)("p",{children:"No menu available"}):(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"animate-spin h-6 w-6 border-2 border-primary border-t-transparent rounded-full mx-auto"}),(0,a.jsx)("p",{children:"Loading menu..."})]})})}),(0,a.jsx)("div",{className:"border-t border-border p-4 space-y-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsx)(F.A,{variant:"compact"}),(0,a.jsx)(P.r,{}),(0,a.jsx)(O.$,{variant:"ghost",size:"icon",className:(0,n.cn)("rounded-full",A?"text-zinc-400 hover:text-zinc-100 hover:bg-zinc-800":"text-zinc-600 hover:text-zinc-900 hover:bg-zinc-100"),onClick:()=>b("dark"===g?"light":"dark"),children:(0,a.jsx)(E.N,{mode:"wait",children:A?(0,a.jsx)(T.P.div,{initial:{opacity:0,rotate:-90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:90},transition:{duration:.2},children:(0,a.jsx)(L.A,{className:"h-5 w-5"})},"sun"):(0,a.jsx)(T.P.div,{initial:{opacity:0,rotate:90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:-90},transition:{duration:.2},children:(0,a.jsx)(S.A,{className:"h-5 w-5"})},"moon")})})]})})]})})]})})}},80859:(e,t,r)=>{r.d(t,{A:()=>l});var a=r(31768);r(27252);var i=r(61120),n=r(1552),s=r(89488);let l=()=>{let{mobileMenu:e,setMobileMenu:t}=(0,s.c)();return(0,a.jsx)("div",{children:(0,a.jsx)(n.$,{onClick:()=>t(!e),variant:"ghost",size:"icon",className:"relative h-11 w-11 hover:bg-primary/10 dark:hover:bg-muted dark:hover:bg-opacity-50 hover:text-primary text-foreground dark:text-foreground rounded-full",children:(0,a.jsx)(i.A,{className:"h-7 w-7"})})})}},89488:(e,t,r)=>{r.d(t,{C:()=>s,c:()=>l});var a=r(21207),i=r(15569);let n={radius:.5,navbarType:"sticky",footerType:"default"},s=(0,a.v)()((0,i.Zr)(e=>({radius:n.radius,setRadius:t=>e({radius:t}),setLayout:t=>{e({navbarType:"sticky"})},navbarType:n.navbarType,setNavbarType:t=>e({navbarType:t}),footerType:n.footerType,setFooterType:t=>e({footerType:t}),isRtl:!1,setRtl:t=>e({isRtl:t}),searchOpen:!1,setSearchOpen:t=>e({searchOpen:t})}),{name:"theme-store",storage:(0,i.KU)(()=>localStorage)})),l=(0,a.v)()((0,i.Zr)(e=>({collapsed:!1,setCollapsed:t=>e({collapsed:t}),subMenu:!1,setSubmenu:t=>e({subMenu:t}),mobileMenu:!1,setMobileMenu:t=>e({mobileMenu:t})}),{name:"sidebar-store",storage:(0,i.KU)(()=>localStorage)}))},92943:(e,t,r)=>{r.d(t,{h:()=>n});var a=r(31768),i=r(87557);let n=e=>{let{className:t,type:r="icon"}=e;return(0,a.jsx)("div",{className:"relative ".concat(t),children:(0,a.jsx)(i.default,{src:"icon"===r?"/img/logo/logo.webp":"/img/logo/logo-text.webp",alt:"Logo",fill:!0,style:{objectFit:"contain"},sizes:"40"})})}},93692:(e,t,r)=>{r.d(t,{A:()=>N});var a=r(31768),i=r(27252),n=r(61992),s=r(95365),l=r(82415),o=r(97400),c=r(58799),d=r(15062),u=r(34292);let m=i.forwardRef((e,t)=>{let{className:r,children:i,title:s,href:o="#",...d}=e;return(0,a.jsx)(n.N_,{asChild:!0,children:(0,a.jsxs)(l.N_,{href:o,className:(0,c.cn)("select-none text-sm text-foreground rounded-md flex items-center gap-2 mb-4 last:mb-0 leading-none no-underline transition-colors hover:text-primary focus:text-primary",r),...d,ref:t,children:[i,(0,a.jsx)("div",{className:"capitalize",children:s})]})})});m.displayName="ListItem";var x=r(56881);function h(e){let{childItems:t}=e;return(0,a.jsx)("div",{className:"min-w-[200px] p-4",children:t.map((e,t)=>{let r=e.href||"#";return(0,a.jsx)(m,{title:e.title,href:r,className:"text-sm font-medium text-foreground",children:e.icon&&(0,a.jsx)(x.Icon,{icon:e.icon,className:"h-5 w-5"})},e.key||"child-".concat(t))})})}var f=r(1780);function p(e){let{megaMenu:t}=e;return(0,a.jsx)(f.TabsList,{className:"bg-transparent p-0 border-b border-border py-2 px-8 rounded-none w-full justify-start gap-8 relative h-auto",children:t.map((e,t)=>{let r=e.key||e.title||"tab-".concat(t);return(0,a.jsxs)(f.TabsTrigger,{value:r,className:"capitalize data-[state=active]:shadow-none data-[state=active]:bg-transparent data-[state=active]:text-primary transition-all duration-200 relative px-0 py-2 h-auto bg-transparent border-0 after:absolute after:left-0 after:right-0 after:-bottom-2 after:h-[2px] after:bg-transparent data-[state=active]:after:bg-primary after:transition-all after:duration-200",children:[e.icon&&(0,a.jsx)(x.Icon,{icon:e.icon,className:"h-5 w-5 mr-2"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:e.title})]},r)})})}var g=r(87557);function b(e){var t;let{category:r,hoveredExtension:i,setHoveredExtension:n,isFirst:s=!1,isLast:o=!1}=e,d=r.child&&r.child.length>0,u=i&&d?r.child.indexOf(i):-1,h=0===u&&d,f=!!d&&u===r.child.length-1;return(0,a.jsxs)("div",{className:"flex items-stretch w-full h-full min-w-[500px]",children:[d&&(0,a.jsx)("div",{className:"w-1/3 flex flex-col gap-2",children:r.child.map((e,t)=>{let r=e.href||"#",s=i===e;return(0,a.jsx)("div",{onMouseEnter:()=>n(e),className:(0,c.cn)("p-2 cursor-pointer transition-colors",e.child?"rounded-l-md":"rounded-md",s?"bg-muted/50 no-underline outline-hidden focus:shadow-md":"bg-transparent"),children:(0,a.jsxs)(l.N_,{href:r,className:"flex items-center justify-between gap-2 text-sm font-medium text-foreground hover:text-primary transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e.icon&&(0,a.jsx)(x.Icon,{icon:e.icon,className:"h-5 w-5"}),(0,a.jsx)("span",{className:"capitalize",children:e.title})]}),e.child&&e.child.length>0&&(0,a.jsx)(x.Icon,{icon:"mdi:chevron-right",className:"h-5 w-5"})]})},e.key||"extension-".concat(t))})}),(0,a.jsx)("div",{className:(0,c.cn)("flex-1 flex items-center justify-center",(h||s)&&"rounded-tl-none",(f||o)&&"rounded-bl-none"),children:(null==i||null==(t=i.child)?void 0:t.length)>0?(0,a.jsx)("div",{className:(0,c.cn)("flex flex-col bg-muted/50 no-underline outline-hidden focus:shadow-md p-4 rounded-md w-full h-full",(h||s)&&"rounded-tl-none",(f||o)&&"rounded-bl-none"),children:i.child.map((e,t)=>{let r=e.href||"#";return(0,a.jsx)(m,{href:r,title:e.title,className:"w-full p-2 bg-primary/5 hover:bg-primary/10 transition-colors rounded-md",children:e.icon&&(0,a.jsx)(x.Icon,{icon:e.icon,className:"h-5 w-5"})},e.key||"subItem-".concat(t))})}):(0,a.jsx)("div",{className:(0,c.cn)("h-full w-full relative flex items-center justify-center",(h||s)&&"rounded-tl-none",(f||o)&&"rounded-bl-none",r.image&&"min-h-[300px]"),children:r.image?(0,a.jsx)(g.default,{src:r.image,alt:"",fill:!0,style:{objectFit:"contain"}}):(0,a.jsx)("div",{className:"text-muted-foreground text-sm max-w-[300px] text-center px-4",children:r.description})})})]})}function v(e){var t;let{category:r,tabValue:i,hoveredExtension:n,setHoveredExtension:s}=e;r.child&&r.child.length;let l=n?r.child.indexOf(n):-1,o=l===(null==(t=r.child)?void 0:t.length)-1;return(0,a.jsx)(f.TabsContent,{value:i,onMouseLeave:()=>s(null),className:"hidden data-[state=active]:flex items-stretch",children:(0,a.jsx)(b,{category:r,hoveredExtension:n,setHoveredExtension:s,isFirst:0===l,isLast:o})})}function j(e){let{megaMenu:t}=e,[r,n]=i.useState(null),s=t[0].key||t[0].title||"default";return(0,a.jsxs)(f.Tabs,{defaultValue:s,onValueChange:()=>n(null),className:"inline-block p-0",children:[(0,a.jsx)(p,{megaMenu:t}),(0,a.jsx)("div",{className:"px-4 pt-2 pb-4",children:t.map((e,t)=>{let i=e.key||e.title||"tab-".concat(t);return(0,a.jsx)(v,{category:e,tabValue:i,hoveredExtension:r,setHoveredExtension:n},i)})})]})}function y(e){let{menu:t}=e,[r,n]=i.useState(null),s={...t,description:t.description||"Explore ".concat(t.title)};return(0,a.jsx)("div",{onMouseLeave:()=>n(null),className:"p-4",children:(0,a.jsx)(b,{category:s,hoveredExtension:r,setHoveredExtension:n})})}function N(e){let{menu:t}=e,r=(0,l.a8)(),m=(0,o.k)(e=>e.user),{settings:f,extensions:p,settingsFetched:g}=(0,u.t)(),b=e=>e.map(e=>({...e,permission:void 0!==e.permission?Array.isArray(e.permission)?e.permission:[e.permission]:void 0,href:"string"==typeof e.href?e.href:"#",child:e.child?b(e.child):e.child,megaMenu:e.megaMenu?b(e.megaMenu):e.megaMenu})),v=i.useMemo(()=>{let e;return g?b("string"==typeof t?(0,d.yy)({user:m,settings:f,extensions:p,activeMenuType:t}):Array.isArray(t)?t:[]):[]},[t,m,f,p,g]),[N,w]=i.useState(null),[k,A]=i.useState(),[z,C]=i.useState(),M=(e,t)=>(e&&k&&z===t?w(Math.round(e.offsetLeft+e.offsetWidth/6)):""===z&&w(null),e),I=e=>e&&e.some(e=>e.child&&e.child.length>0);return v&&0!==v.length?(0,a.jsx)("div",{children:(0,a.jsxs)(n.bL,{onValueChange:C,delayDuration:300,className:"flex relative justify-start group",children:[(0,a.jsx)(n.B8,{ref:A,className:"group flex list-none gap-5",children:v.map((e,t)=>{let i=e.key||"item-".concat(t),o=e.child&&e.child.length>0,d=e.megaMenu&&e.megaMenu.length>0,u=o||d,m=function e(t,r){return!!r.href&&"#"!==r.href&&(t===r.href||(r.child&&r.child.length>0?!!t.startsWith(r.href+"/")||r.child.some(r=>e(t,r)):r.megaMenu&&r.megaMenu.length>0?!!t.startsWith(r.href+"/")||r.megaMenu.some(r=>e(t,r)):!!r.nested&&!!(r.nested.length>0)&&(!!t.startsWith(r.href+"/")||r.nested.some(r=>e(t,r)))))}(r,e);return(0,a.jsx)(n.q7,{value:i,children:u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.l9,{ref:e=>{M(e,i)},asChild:!0,children:(0,a.jsxs)("div",{className:(0,c.cn)("flex items-center py-4 cursor-pointer group transition",m?"text-primary border-b-2 border-primary font-semibold":"hover:text-primary"),children:[e.icon&&(0,a.jsx)(x.Icon,{icon:e.icon,className:"h-5 w-5 mr-2"}),(0,a.jsx)("span",{className:"text-sm font-medium text-foreground",children:e.title}),(0,a.jsx)(s.A,{className:"relative top-[1px] ml-1 h-4 w-4 transition duration-200 group-data-[state=open]:rotate-180","aria-hidden":"true"})]})}),(0,a.jsxs)(n.UC,{className:(0,c.cn)("w-full rounded-md border bg-popover text-popover-foreground shadow-lg"),children:[d&&(0,a.jsx)(j,{megaMenu:e.megaMenu}),o&&!d&&(I(e.child)?(0,a.jsx)(y,{menu:e}):(0,a.jsx)(h,{childItems:e.child}))]})]}):(0,a.jsx)(n.N_,{asChild:!0,children:(0,a.jsxs)(l.N_,{href:e.href||"#",className:(0,c.cn)("flex items-center py-4 cursor-pointer transition",m?"text-primary border-b-2 border-primary font-semibold":"hover:text-primary"),children:[e.icon&&(0,a.jsx)(x.Icon,{icon:e.icon,className:"h-5 w-5 mr-2"}),(0,a.jsx)("span",{className:"text-sm font-medium text-foreground",children:e.title})]})})},i)})}),(0,a.jsx)("div",{className:"absolute top-full",children:(0,a.jsx)(n.LM,{style:{display:N?void 0:"none",transform:"translateX(".concat(N,"px)"),top:"100%",transition:"all 0.3s ease"}})})]})}):null}}}]);